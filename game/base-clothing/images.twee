:: Widgets Img [widget]
<<widget "img">>
	<<if !_thermoDisable>>
		<<thermometer>>
	<</if>>

	<div id="imgInv">
		<<if $condoms>>
			<div><<condomsSidebar>></div>
		<<else>>
			<div></div>
		<</if>>
		<<if $spraymax>>
			<div><<peppersprays>></div>
		<</if>>
	</div>
	<div id="img" class="offset-sidebar-img">
		<<canvasimg "mainCanvas">>
	</div>
	<div id="characterTooltip"></div>
<</widget>>

:: Widgets Combat Clothes Img [widget]
<<widget "clothesactive">>
	<<imgOpacity>>
	<div class="i256">

	<<if !["naked", "lolita headband", "kittycat hat", "newsboy cap", "sexy nun's veil", "sexy nun's ornate veil", "visor"].includes($worn.head.name) and !$worn.head.hood>>
		<img @class="'layer-sexsleeve colour-head anim-doggy-4f-'+_animspeed" @src="'img/sex/doggy/active/head/'+$worn.head.variable+'/full.png'" @style="$worn.head.colourCustom">
		<<if $worn.head.accessory is 1>>
			<img @class="'layer-sexsleeve colour-head_acc anim-doggy-4f-'+_animspeed" @src="'img/sex/doggy/active/head/'+$worn.head.variable+'/acc.png'" @style="($worn.head.accessory_colour is 'custom' ? $worn.head.accessory_colourCustom : '')">
		<</if>>
		<<if $worn.head.back_img is 1 or $worn.head.back_img is "combat">>
			<img @class="'layer-sexlower colour-head anim-doggy-4f-'+_animspeed" @src="'img/sex/doggy/active/head/'+$worn.head.variable+'/back.png'" @style="$worn.head.colourCustom">
		<</if>>
	<</if>>

	<<if $worn.upper.set is $worn.lower.set and setup.clothes.lower[clothesIndex('lower', $worn.lower)].skirt is 1>>
		<<set $_skirtOutfit to true>>
		<<if $worn.upper.name is "large towel">>
			<img @class="'layer-sexupper colour-upper anim-doggy-4f-'+_animspeed" @src="'img/sex/doggy/active/largetowel/' + $worn.upper.state + '.png'" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
		<<elseif $worn.upper.state is "waist">>
			<<if setup.clothes.lower[clothesIndex('lower', $worn.lower)].skirt_down is 1>>
				<img @class="'layer-sexlower colour-upper anim-doggy-4f-'+_animspeed" src="img/sex/doggy/active/dress/doggyactive_dress_thighs.png" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
			<<elseif setup.clothes.lower[clothesIndex('lower', $worn.lower)].skirt_down is 0>>
				<img @class="'layer-sexlower colour-upper anim-doggy-4f-'+_animspeed" src="img/sex/doggy/active/dress/doggyactive_dress_hips.png" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
			<</if>>
		<<elseif $worn.upper.state is "midriff">>
			<img @class="'layer-sexlower colour-upper anim-doggy-4f-'+_animspeed" src="img/sex/doggy/active/dress/doggyactive_dress_tummy.png" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
		<<elseif $worn.upper.state is "chest">>
			<img @class="'layer-sexlower colour-upper anim-doggy-4f-'+_animspeed" src="img/sex/doggy/active/dress/doggyactive_dress_neck.png" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
		<</if>>
	<</if>>

	/* _feet_pos is set to "footjob_" for doggy images, but "feetjob_" for missionary images. */
	<<if $feetuse is "penis" or $feetstate is "tentacles">>
		<<set _feet_pos to "footjob_">>
	<<else>>
		<<set _feet_pos to "">>
	<</if>>

	<<if $worn.lower.name is "gym bloomers">>
		<<if $worn.lower.state is "waist">>
			<img @class="'layer-sexlower colour-lower anim-doggy-4f-'+_animspeed" src="img/sex/doggy/active/gymbloomers/doggyactive_shorts_hips.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
		<<elseif $worn.lower.state is "thighs">>
			<img @class="'layer-sexlower colour-lower anim-doggy-4f-'+_animspeed" src="img/sex/doggy/active/gymbloomers/doggyactive_shorts_thighs.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
		<<elseif $worn.lower.state is "knees">>
			<img @class="'layer-sexlower colour-lower anim-doggy-4f-'+_animspeed" src="img/sex/doggy/active/gymbloomers/doggyactive_shorts_knees.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
		<<elseif $worn.lower.state is "ankles">>
			<img @class="'layer-sexlower colour-lower anim-doggy-4f-'+_animspeed" src="img/sex/doggy/active/gymbloomers/doggyactive_shorts_ankles.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
		<</if>>
	<<elseif $worn.lower.name is "rag skirt">>
		<<if $worn.lower.state is "waist">>
			<img @class="'layer-sexlower colour-lower anim-doggy-4f-'+_animspeed" src="img/sex/doggy/active/ragskirt/waist.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
		<<elseif $worn.lower.state is "thighs">>
			<img @class="'layer-sexlower colour-lower anim-doggy-4f-'+_animspeed" src="img/sex/doggy/active/ragskirt/thighs.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
		<<elseif $worn.lower.state is "knees">>
			<img @class="'layer-sexlower colour-lower anim-doggy-4f-'+_animspeed" src="img/sex/doggy/active/ragskirt/knees.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
		<<elseif $worn.lower.state is "ankles">>
			<<if _feet_pos is "footjob_">>
				<img @class="'layer-sexlower colour-lower anim-doggy-4f-'+_animspeed" src="img/sex/doggy/active/ragskirt/footjob_ankles.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
			<<else>>
				<img @class="'layer-sexlower colour-lower anim-doggy-4f-'+_animspeed" src="img/sex/doggy/active/ragskirt/ankles.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
			<</if>>
		<</if>>
	<<elseif $worn.lower.name is "denim shorts">>
		<<if $worn.lower.state is "waist">>
			<img @class="'layer-sexlower colour-lower anim-doggy-4f-'+_animspeed" src="img/sex/doggy/active/denimshorts/waist.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
		<<elseif $worn.lower.state is "thighs">>
			<img @class="'layer-sexlower colour-lower anim-doggy-4f-'+_animspeed" src="img/sex/doggy/active/denimshorts/thighs.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
		<<elseif $worn.lower.state is "knees">>
			<img @class="'layer-sexlower colour-lower anim-doggy-4f-'+_animspeed" src="img/sex/doggy/active/denimshorts/knees.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
		<<elseif $worn.lower.state is "ankles">>
			<<if _feet_pos is "footjob_">>
				<img @class="'layer-sexlower colour-lower anim-doggy-4f-'+_animspeed" src="img/sex/doggy/active/denimshorts/ankles.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
			<<else>>
				<img @class="'layer-sexlower colour-lower anim-doggy-4f-'+_animspeed" src="img/sex/doggy/active/denimshorts/footjob_ankles.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
			<</if>>
		<</if>>
	<<elseif $worn.lower.name is "booty jorts">>
		<<if $worn.lower.state is "waist">>
			<img @class="'layer-sexlower colour-lower anim-doggy-4f-'+_animspeed" src="img/sex/doggy/active/bootyjorts/waist.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
		<<elseif $worn.lower.state is "thighs">>
			<img @class="'layer-sexlower colour-lower anim-doggy-4f-'+_animspeed" src="img/sex/doggy/active/bootyjorts/thighs.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
		<<elseif $worn.lower.state is "knees">>
			<img @class="'layer-sexlower colour-lower anim-doggy-4f-'+_animspeed" src="img/sex/doggy/active/bootyjorts/knees.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
		<<elseif $worn.lower.state is "ankles">>
			<<if _feet_pos is "footjob_">>
				<img @class="'layer-sexlower colour-lower anim-doggy-4f-'+_animspeed" src="img/sex/doggy/active/bootyjorts/footjob_ankles.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
			<<else>>
				<img @class="'layer-sexlower colour-lower anim-doggy-4f-'+_animspeed" src="img/sex/doggy/active/bootyjorts/ankles.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
			<</if>>
		<</if>>
	<<elseif !$worn.lower.type.includes("naked") and !$_skirtOutfit>>
		<<if setup.clothes.lower[clothesIndex('lower', $worn.lower)].skirt is 1>>
			<<if setup.clothes.lower[clothesIndex('lower', $worn.lower)].short is 1>>
				<<if $worn.lower.skirt_down is 0 and $worn.lower.state is "waist">>
					<img @class="'layer-sexlower colour-lower anim-doggy-4f-'+_animspeed" src="img/sex/doggy/active/skirt/doggyactive_skirt_waist.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
				<<elseif $worn.lower.vagina_exposed is 1>>
					<img @class="'layer-sexlower colour-lower anim-doggy-4f-'+_animspeed" src="img/sex/doggy/active/skirt/doggyactive_skirt_waist.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
				<<elseif $worn.lower.state is "waist">>
					<img @class="'layer-sexlower colour-lower anim-doggy-4f-'+_animspeed" src="img/sex/doggy/active/skirt/doggyactive_skirt_hips.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
				<<elseif $worn.lower.state is "thighs">>
					<img @class="'layer-sexlower colour-lower anim-doggy-4f-'+_animspeed" src="img/sex/doggy/active/skirt/doggyactive_skirt_thighs.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
				<<elseif $worn.lower.state is "knees">>
					<img @class="'layer-sexlower colour-lower anim-doggy-4f-'+_animspeed" src="img/sex/doggy/active/skirt/doggyactive_skirt_knees.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
				<<elseif $worn.lower.state is "ankles">>
					<img @class="'layer-sexlower colour-lower anim-doggy-4f-'+_animspeed" src="img/sex/doggy/active/skirt/doggyactive_skirt_ankles.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
				<</if>>
			<<else>>
				<<if $worn.lower.state is "waist">>
					<img @class="'layer-sexlower colour-lower anim-doggy-4f-'+_animspeed" @src="'img/sex/doggy/active/longskirt/' + _feet_pos + 'waist.png'" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
				<<elseif $worn.lower.state is "thighs">>
					<img @class="'layer-sexlower colour-lower anim-doggy-4f-'+_animspeed" @src="'img/sex/doggy/active/longskirt/' + _feet_pos + 'thighs.png'" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
				<<elseif $worn.lower.state is "knees">>
					<img @class="'layer-sexlower colour-lower anim-doggy-4f-'+_animspeed" @src="'img/sex/doggy/active/longskirt/' + _feet_pos + 'knees.png'" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
				<<elseif $worn.lower.state is "ankles">>
					<img @class="'layer-sexlower colour-lower anim-doggy-4f-'+_animspeed" @src="'img/sex/doggy/active/longskirt/' + _feet_pos + 'ankles.png'" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
				<</if>>
			<</if>>
		<<elseif $worn.lower.state is "waist">>
			<<if $worn.lower.name is "jeans">>
				<img @class="'layer-sexlower anim-doggy-4f-'+_animspeed" @src="'img/sex/doggy/active/jeans/' + _feet_pos + 'waist.png'">
			<<elseif setup.clothes.lower[clothesIndex('lower', $worn.lower)].short is 1>>
				<img @class="'layer-sexlower colour-lower anim-doggy-4f-'+_animspeed" @src="'img/sex/doggy/active/shorts/' + _feet_pos + 'waist.png'" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
			<<else>>
				<img @class="'layer-sexlower colour-lower anim-doggy-4f-'+_animspeed" @src="'img/sex/doggy/active/trousers/' + _feet_pos + 'waist.png'" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
			<</if>>
		<<elseif $worn.lower.state is "thighs">>
			<<if $worn.lower.name is "jeans">>
				<img @class="'layer-sexlower anim-doggy-4f-'+_animspeed" @src="'img/sex/doggy/active/jeans/' + _feet_pos + 'thighs.png'">
			<<elseif setup.clothes.lower[clothesIndex('lower', $worn.lower)].short is 1>>
				<img @class="'layer-sexlower colour-lower anim-doggy-4f-'+_animspeed" @src="'img/sex/doggy/active/shorts/' + _feet_pos + 'thighs.png'" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
			<<else>>
				<img @class="'layer-sexlower colour-lower anim-doggy-4f-'+_animspeed" @src="'img/sex/doggy/active/trousers/' + _feet_pos + 'thighs.png'" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
			<</if>>
		<<elseif $worn.lower.state is "knees">>
			<<if $worn.lower.name is "jeans">>
				<img @class="'layer-sexlower anim-doggy-4f-'+_animspeed" @src="'img/sex/doggy/active/jeans/' + _feet_pos + 'knees.png'">
			<<elseif setup.clothes.lower[clothesIndex('lower', $worn.lower)].short is 1>>
				<img @class="'layer-sexlower colour-lower anim-doggy-4f-'+_animspeed" @src="'img/sex/doggy/active/shorts/' + _feet_pos + 'knees.png'" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
			<<else>>
				<img @class="'layer-sexlower colour-lower anim-doggy-4f-'+_animspeed" @src="'img/sex/doggy/active/trousers/' + _feet_pos + 'knees.png'" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
			<</if>>
		<<elseif $worn.lower.state is "ankles">>
			<<if $worn.lower.name is "jeans">>
				<img @class="'layer-sexlower anim-doggy-4f-'+_animspeed" @src="'img/sex/doggy/active/jeans/' + _feet_pos + 'ankles.png'">
			<<elseif setup.clothes.lower[clothesIndex('lower', $worn.lower)].short is 1>>
				<img @class="'layer-sexlower colour-lower anim-doggy-4f-'+_animspeed" @src="'img/sex/doggy/active/shorts/' + _feet_pos + 'ankles.png'" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
			<<else>>
				<img @class="'layer-sexlower colour-lower anim-doggy-4f-'+_animspeed" @src="'img/sex/doggy/active/trousers/' + _feet_pos + 'ankles.png'" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
			<</if>>
		<</if>>
	<</if>>

	<<if $worn.under_lower.name is "bikini bottoms">>
		<img @class="'layer-sexunder colour-under_lower anim-doggy-4f-'+_animspeed" @src="'img/sex/doggy/active/bikinibottom/doggyactive_bikinibottom_' + $worn.under_lower.state + '.png'" @style="($worn.under_lower.colour is 'custom'? $worn.under_lower.colourCustom + _underLowerOpacity : '')">
	<<elseif $worn.under_lower.name is "highwaisted microkini bottom">>
		<img @class="'layer-sexunder colour-under_lower anim-doggy-4f-'+_animspeed" @src="'img/sex/doggy/active/under_lower/highmicrokini/' + $worn.under_lower.state + '.png'" @style="($worn.under_lower.colour is 'custom'? $worn.under_lower.colourCustom + _underLowerOpacity : '')">
	<<elseif $worn.under_lower.name is "cow panties">>
		<img @class="'layer-sexunder colour-under_lower anim-doggy-4f-'+_animspeed" src="img/sex/doggy/active/cowpanties/waist.png">
	<<elseif $worn.under_lower.type.includes("strap-on") and $worn.lower.vagina_exposed is 1>>
		<img @class="'layer-sexunder colour-under_lower anim-doggy-4f-'+_animspeed" @src="'img/sex/doggy/active/strapon/doggyactive_strapon_' + $worn.under_lower.state + '.png'" @style="($worn.under_lower.colour is 'custom'? $worn.under_lower.colourCustom + _underLowerOpacity : '')">
	<<elseif $worn.under_lower.name is "thong" or $worn.under_lower.name is "microkini bottom">>
		<<if $worn.under_lower.state is "waist">>
			<img @class="'layer-sexunder colour-under_lower anim-doggy-4f-'+_animspeed" src="img/sex/doggy/active/thong/waist.png" @style="($worn.under_lower.colour is 'custom'? $worn.under_lower.colourCustom + _underLowerOpacity : '')">
		<<elseif $worn.under_lower.state is "totheside">>
			<img @class="'layer-sexunder colour-under_lower anim-doggy-4f-'+_animspeed" src="img/sex/doggy/active/thong/totheside.png" @style="($worn.under_lower.colour is 'custom'? $worn.under_lower.colourCustom + _underLowerOpacity : '')">
		<<elseif $worn.under_lower.state is "thighs">>
			<img @class="'layer-sexunder colour-under_lower anim-doggy-4f-'+_animspeed" src="img/sex/doggy/active/thong/thighs.png" @style="($worn.under_lower.colour is 'custom'? $worn.under_lower.colourCustom + _underLowerOpacity : '')">
		<<elseif $worn.under_lower.state is "knees">>
			<img @class="'layer-sexunder colour-under_lower anim-doggy-4f-'+_animspeed" src="img/sex/doggy/active/thong/knees.png" @style="($worn.under_lower.colour is 'custom'? $worn.under_lower.colourCustom + _underLowerOpacity : '')">
		<<elseif $worn.under_lower.state is "ankles">>
			<<if _feet_pos is "footjob_">>
				<img @class="'layer-sexunder colour-under_lower anim-doggy-4f-'+_animspeed" src="img/sex/doggy/active/thong/footjob_ankles.png" @style="($worn.under_lower.colour is 'custom'? $worn.under_lower.colourCustom + _underLowerOpacity : '')">
			<<else>>
				<img @class="'layer-sexunder colour-under_lower anim-doggy-4f-'+_animspeed" src="img/sex/doggy/active/thong/ankles.png" @style="($worn.under_lower.colour is 'custom'? $worn.under_lower.colourCustom + _underLowerOpacity : '')">
			<</if>>
		<</if>>
	<<elseif !$worn.under_lower.type.includes("naked")>>
		<<if $worn.under_lower.state is "waist" or $worn.under_lower.state is "totheside">>
			<img @class="'layer-sexunder colour-under_lower anim-doggy-4f-'+_animspeed" src="img/sex/doggy/active/plainpanties/doggyactive_plainpanties_hips.png" @style="($worn.under_lower.colour is 'custom'? $worn.under_lower.colourCustom + _underLowerOpacity : '')">
		<<elseif $worn.under_lower.state is "thighs">>
			<img @class="'layer-sexunder colour-under_lower anim-doggy-4f-'+_animspeed" src="img/sex/doggy/active/plainpanties/doggyactive_plainpanties_thighs.png" @style="($worn.under_lower.colour is 'custom'? $worn.under_lower.colourCustom + _underLowerOpacity : '')">
		<<elseif $worn.under_lower.state is "knees">>
			<img @class="'layer-sexunder colour-under_lower anim-doggy-4f-'+_animspeed" src="img/sex/doggy/active/plainpanties/doggyactive_plainpanties_knees.png" @style="($worn.under_lower.colour is 'custom'? $worn.under_lower.colourCustom + _underLowerOpacity : '')">
		<<elseif $worn.under_lower.state is "ankles">>
			<img @class="'layer-sexunder colour-under_lower anim-doggy-4f-'+_animspeed" src="img/sex/doggy/active/plainpanties/doggyactive_plainpanties_ankles.png" @style="($worn.under_lower.colour is 'custom'? $worn.under_lower.colourCustom + _underLowerOpacity : '')">
		<</if>>
	<</if>>

	<<if $worn.upper.name is "tank top">>
		<<if $leftarm isnot "bound" and $leftarm isnot "grappled" and $leftarm isnot "behind">>
			<<if $worn.upper.state is "waist">>
				<img @class="'layer-sexupper colour-upper anim-doggy-4f-'+_animspeed" src="img/sex/doggy/active/tanktop/doggyactive_tanktop_waist.png" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
			<<else>>
				<img @class="'layer-sexupper colour-upper anim-doggy-4f-'+_animspeed" src="img/sex/doggy/active/tanktop/doggyactive_tanktop_neck.png" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
			<</if>>
		<<else>>
			<<if $worn.upper.state is "waist">>
				<img @class="'layer-sexupper colour-upper anim-doggy-4f-'+_animspeed" src="img/sex/doggy/active/tanktop/doggyactive_tanktop_boundwaist.png" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">

			<<else>>
				<img @class="'layer-sexupper colour-upper anim-doggy-4f-'+_animspeed" src="img/sex/doggy/active/tanktop/doggyactive_tanktop_boundneck.png" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
			<</if>>
		<</if>>

	<<elseif $worn.upper.name is "tube top" or $worn.upper.name is "towel top">>
		<<if $worn.upper.state_top is "chest">>
			<<if $player.perceived_breastsize is 0>>
				<<set _tit = "none">>
			<<elseif $player.perceived_breastsize lte 2>>
				<<set _tit = "tiny">>
			<<elseif $player.perceived_breastsize lte 4>>
				<<set _tit = "small">>
			<<elseif $player.perceived_breastsize lte 6>>
				<<set _tit = "large">>
			<<else>>
				<<set _tit = "huge">>
			<</if>>
		<</if>>
		<<set _tubeimg = $worn.upper.state_top>>
		<<if _tubeimg is "ankles" and ($feetuse is "penis" or $feetstate is "tentacle")>>
			<<set _tubeimg += "feetjob">>
		<</if>>
		<<if (_tubeimg is "chest" or _tubeimg is "midriff") and ($leftarm is "bound" or $leftarm is "grappled" or $leftarm is "behind")>>
			<<set _tubeimg += "bound">>
		<</if>>
		<img @class="'layer-sexupper colour-upper anim-doggy-4f-'+_animspeed" @src="'img/sex/doggy/active/tubetop/'+_tubeimg+'.png'" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
		<<if _tit>>
			<img @class="'layer-sexbreastupper colour-upper anim-doggy-4f-'+_animspeed" @src="'img/sex/doggy/active/tubetop/'+_tit+'.png'" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
		<</if>>

	<<elseif $worn.upper.name is "gym shirt">>
		<<if $leftarm isnot "bound" and $leftarm isnot "grappled" and $leftarm isnot "behind">>
			<<if $worn.upper.state is "waist">>
				<img @class="'layer-sexupper colour-upper anim-doggy-4f-'+_animspeed" src="img/sex/doggy/active/gymshirt/waist.png" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
				<img @class="'layer-sexupper colour-upper_acc anim-doggy-4f-'+_animspeed" src="img/sex/doggy/active/gymshirt/waist_acc.png" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
			<<else>>
				<img @class="'layer-sexupper colour-upper anim-doggy-4f-'+_animspeed" src="img/sex/doggy/active/gymshirt/neck.png" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
				<img @class="'layer-sexupper colour-upper_acc anim-doggy-4f-'+_animspeed" src="img/sex/doggy/active/gymshirt/neck_acc.png" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
			<</if>>
		<<else>>
			<<if $worn.upper.state is "waist">>
				<img @class="'layer-sexupper colour-upper anim-doggy-4f-'+_animspeed" src="img/sex/doggy/active/gymshirt/boundwaist.png" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
				<img @class="'layer-sexupper colour-upper_acc anim-doggy-4f-'+_animspeed" src="img/sex/doggy/active/gymshirt/boundwaist_acc.png" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
			<<else>>
				<img @class="'layer-sexupper colour-upper anim-doggy-4f-'+_animspeed" src="img/sex/doggy/active/gymshirt/boundneck.png" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
				<img @class="'layer-sexupper colour-upper_acc anim-doggy-4f-'+_animspeed" src="img/sex/doggy/active/gymshirt/boundneck_acc.png" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
			<</if>>
		<</if>>

	<<elseif $worn.upper.name is "rag top">>
		<<if $player.perceived_breastsize is 0>>
			<<set _tit = "none">>
		<<elseif $player.perceived_breastsize lte 2>>
			<<set _tit = "tiny">>
		<<elseif $player.perceived_breastsize lte 4>>
			<<set _tit = "small">>
		<<elseif $player.perceived_breastsize lte 6>>
			<<set _tit = "large">>
		<<else>>
			<<set _tit = "huge">>
		<</if>>
		<img @class="'layer-sexbreastupper colour-upper anim-doggy-4f-'+_animspeed" @src="'img/sex/doggy/active/ragtop/'+_tit+'.png'" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">

	<<elseif $worn.upper.name is "virgin killer">>
		<img @class="'layer-sexupper colour-upper anim-doggy-4f-'+_animspeed" @src="'img/sex/doggy/active/virginkiller/' + $worn.upper.state + '.png'" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
	<<elseif $worn.upper.name is "sweater" or $worn.upper.name is "girl's sweater">>
		<img @class="'layer-sexupper colour-upper anim-doggy-4f-'+_animspeed" @src="'img/sex/doggy/active/sweater/' + $worn.upper.state + '.png'" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
	<<elseif $worn.upper.name is "cable knit turtleneck" or $worn.upper.name is "turtleneck jumper">>
		<img @class="'layer-sexupper colour-upper anim-doggy-4f-'+_animspeed" @src="'img/sex/doggy/active/long turtleneck/' + $worn.upper.state + '.png'" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
	<<elseif $worn.upper.name is "turtleneck">>
		<<switch $player.perceived_breastsize>>
			<<case 8 9 10 11 12>>
						<img @class="'layer-sexupper colour-upper anim-doggy-4f-'+_animspeed" @src="'img/sex/doggy/active/turtleneck/' + $worn.upper.state + ($worn.upper.state is 'chest' ? ('_' + '4') : '') + '.png'" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
			<<case 5 6 7>>
						<img @class="'layer-sexupper colour-upper anim-doggy-4f-'+_animspeed" @src="'img/sex/doggy/active/turtleneck/' + $worn.upper.state + ($worn.upper.state is 'chest' ? ('_' + '3') : '') + '.png'" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
			<<case 3 4>>
						<img @class="'layer-sexupper colour-upper anim-doggy-4f-'+_animspeed" @src="'img/sex/doggy/active/turtleneck/' + $worn.upper.state + ($worn.upper.state is 'chest' ? ('_' + '2') : '') + '.png'" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
			<<case 1 2>>
				<img @class="'layer-sexupper colour-upper anim-doggy-4f-'+_animspeed" @src="'img/sex/doggy/active/turtleneck/' + $worn.upper.state + ($worn.upper.state is 'chest' ? ('_' + '1') : '') + '.png'" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
			<<case 0>>
				<img @class="'layer-sexupper colour-upper anim-doggy-4f-'+_animspeed" @src="'img/sex/doggy/active/turtleneck/' + $worn.upper.state + ($worn.upper.state is 'chest' ? ('_' + '0') : '') + '.png'" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
		<</switch>>
	<<elseif !$worn.upper.type.includes("naked") and !$_skirtOutfit>>
		<<if $leftarm isnot "bound" and $leftarm isnot "grappled" and $leftarm isnot "behind">>
			<<if $worn.upper.state is "waist">>
				<img @class="'layer-sexupper colour-upper anim-doggy-4f-'+_animspeed" src="img/sex/doggy/active/t-shirt/doggyactive_tshirt_waist.png" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
			<<else>>
				<img @class="'layer-sexupper colour-upper anim-doggy-4f-'+_animspeed" src="img/sex/doggy/active/t-shirt/doggyactive_tshirt_neck.png" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
			<</if>>
		<<else>>
			<<if $worn.upper.state is "waist">>
				<img @class="'layer-sexupper colour-upper anim-doggy-4f-'+_animspeed" src="img/sex/doggy/active/t-shirt/doggyactive_tshirt_boundwaist.png" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
			<<else>>
				<img @class="'layer-sexupper colour-upper anim-doggy-4f-'+_animspeed" src="img/sex/doggy/active/t-shirt/doggyactive_tshirt_boundneck.png" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
			<</if>>
		<</if>>
	<</if>>

	<<if setup.clothes.upper[clothesIndex('upper', $worn.upper)].sleeve_img is 1 and $worn.upper.name isnot "t-shirt">>
		<<if $worn.upper.name is "turtleneck">>
			<<set _sleeves to "turtleneck">>
		<<elseif $worn.upper.name is "sweater" or $worn.upper.name is "girl's sweater" or $worn.upper.name is "cable knit turtleneck" or $worn.upper.name is "turtleneck jumper">>
			<<set _sleeves to "sweatersleeves">>
		<<else>>
			<<set _sleeves to "sleeves">>
		<</if>>
		<<if $leftarm is "bound" or $leftarm is "grappled" or $leftarm is "behind">>
			<img @class="'layer-sexsleeve colour-upper anim-doggy-4f-'+_animspeed" @src="'img/sex/doggy/active/' + _sleeves + '/left_sleeve_bound.png'" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
		<<elseif $leftarm is "penis" or $leftarmstate is "tentacle">>
			<<if $enemytype is "beast">>
				<img @class="'layer-sexsleeve colour-upper anim-doggy-4f-'+_animspeed" @src="'img/sex/doggy/active/' + _sleeves + '/left_sleeve_handjob_beast.png'" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
			<<else>>
				<img @class="'layer-sexsleeve colour-upper anim-doggy-4f-'+_animspeed" @src="'img/sex/doggy/active/' + _sleeves + '/left_sleeve_handjob.png'" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
			<</if>>
		<<else>>
			<img @class="'layer-sexsleeve colour-upper anim-doggy-4f-'+_animspeed" @src="'img/sex/doggy/active/' + _sleeves + '/left_sleeve.png'" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
		<</if>>
		<<if $rightarm is "penis" or $rightarmstate is "tentacle">>
			<<if $enemytype is "beast">>
				<img @class="'layer-sexsleeveback colour-upper anim-doggy-4f-'+_animspeed" @src="'img/sex/doggy/active/' + _sleeves + '/right_sleeve_handjob_beast.png'" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
			<<else>>
				<img @class="'layer-sexsleeveback colour-upper anim-doggy-4f-'+_animspeed" @src="'img/sex/doggy/active/' + _sleeves + '/right_sleeve_handjob.png'" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
			<</if>>
		<<elseif $rightarm isnot "bound" and $rightarm isnot "grappled" and $rightarm isnot "behind">>
			<img @class="'layer-sexsleeveback colour-upper anim-doggy-4f-'+_animspeed" @src="'img/sex/doggy/active/' + _sleeves + '/right_sleeve.png'" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
		<</if>>
	<</if>>

	<<if $worn.under_upper.name is "bikini top">>
		<<if $worn.under_upper.state isnot "chest" and $worn.under_upper.state isnot "midriff">>
			<img @class="'layer-sexunder colour-under_upper anim-doggy-4f-'+_animspeed" src="img/sex/doggy/active/bikinitop/doggyactive_bikinitop_thorax.png" @style="($worn.under_upper.colour is 'custom' ? $worn.under_upper.colourCustom + _upperOpacity : '')">
		<<else>>
			<img @class="'layer-sexunder colour-under_upper anim-doggy-4f-'+_animspeed" @src="'img/sex/doggy/active/bikinitop/doggyactive_bikinitop_'+$worn.under_upper.state+'.png'" @style="($worn.under_upper.colour is 'custom' ? $worn.under_upper.colourCustom + _underUpperOpacity : '')">
		<</if>>
	<<elseif $worn.under_upper.name is "cow bra">>
		<<if $worn.under_upper.state_top is "chest">>
			<<if $player.perceived_breastsize is 0>>
				<<set _tit = "none">>
			<<elseif $player.perceived_breastsize lte 2>>
				<<set _tit = "tiny">>
			<<elseif $player.perceived_breastsize lte 4>>
				<<set _tit = "small">>
			<<elseif $player.perceived_breastsize lte 6>>
				<<set _tit = "large">>
			<<else>>
				<<set _tit = "huge">>
			<</if>>
		<</if>>
		<img @class="'layer-sexbreastunderupper colour-under_upper anim-doggy-4f-'+_animspeed" @src="'img/sex/doggy/active/cowbra/'+_tit+'.png'">
	<<elseif $worn.under_upper.name is "tape">>
		<<if $player.perceived_breastsize is 0>>
			<<set _size to "none">>
		<<elseif $player.perceived_breastsize is 1 or $player.perceived_breastsize is 2>>
			<<set _size to "tiny">>
		<<elseif $player.perceived_breastsize is 3 or $player.perceived_breastsize is 4>>
			<<set _size to "small">>
		<<elseif $player.perceived_breastsize gte 5 and $player.perceived_breastsize lte 7>>
			<<set _size to "large">>
		<<elseif $player.perceived_breastsize gte 8 and $player.perceived_breastsize lte 12>>
			<<set _size to "huge">>
		<</if>>
		<img @class="'layer-sexbreastunderupper colour-under_upper anim-doggy-4f-'+_animspeed" @src="'img/sex/doggy/active/tape/'+_size+'.png'" @style="($worn.under_upper.colour is 'custom' ? $worn.under_upper.colourCustom + _underUpperOpacity : '')">
	<<elseif $worn.under_upper.name is "mesh shirt">>
		<<if $worn.under_upper.exposed is 0>>
			<<if $player.perceived_breastsize is 0>>
				<<set _size to "none">>
			<<elseif $player.perceived_breastsize is 1 or $player.perceived_breastsize is 2>>
				<<set _size to "tiny">>
			<<elseif $player.perceived_breastsize is 3 or $player.perceived_breastsize is 4>>
				<<set _size to "small">>
			<<elseif $player.perceived_breastsize gte 5 and $player.perceived_breastsize lte 7>>
				<<set _size to "large">>
			<<elseif $player.perceived_breastsize gte 8 and $player.perceived_breastsize lte 12>>
				<<set _size to "huge">>
			<</if>>
			<img @class="'layer-sexbreastunderupper colour-under_upper anim-doggy-4f-'+_animspeed" @src="'img/sex/doggy/active/mesh/'+_size+'.png'" @style="($worn.under_upper.colour is 'custom' ? $worn.under_upper.colourCustom + _underUpperOpacity : '')">
		<</if>>

		<<if $worn.under_upper.state is "midriff">>
			<<set _state to "midriff">>
		<<else>>
			<<set _state to "neck">>
		<</if>>
		<<if $leftarm isnot "bound" and $leftarm isnot "grappled" and $leftarm isnot "behind">>
			<<set _bound to "">>
		<<else>>
			<<set _bound to "bound">>
		<</if>>
		<img @class="'layer-sexunder colour-under_upper anim-doggy-4f-'+_animspeed" @src="'img/sex/doggy/active/mesh/doggyactive_mesh_'+_bound+_state+'.png'" @style="($worn.under_upper.colour is 'custom' ? $worn.under_upper.colourCustom + _underUpperOpacity : '')">

	<<elseif $worn.under_upper.name is "chest wrap">>
		<<if $worn.under_upper.exposed is 0>>
			<<if $player.perceived_breastsize is 0>>
				<img @class="'layer-sexunder colour-under_upper anim-doggy-4f-'+_animspeed" src="img/sex/doggy/active/chestwrap/none.png" @style="($worn.under_upper.colour is 'custom' ? $worn.under_upper.colourCustom + _underUpperOpacity : '')">
			<<elseif $player.perceived_breastsize is 1 or $player.perceived_breastsize is 2>>
				<img @class="'layer-sexunder colour-under_upper anim-doggy-4f-'+_animspeed" src="img/sex/doggy/active/chestwrap/tiny.png" @style="($worn.under_upper.colour is 'custom' ? $worn.under_upper.colourCustom + _underUpperOpacity : '')">
			<<elseif $player.perceived_breastsize is 3 or $player.perceived_breastsize is 4>>
				<img @class="'layer-sexunder colour-under_upper anim-doggy-4f-'+_animspeed" src="img/sex/doggy/active/chestwrap/small.png" @style="($worn.under_upper.colour is 'custom' ? $worn.under_upper.colourCustom + _underUpperOpacity : '')">
			<<elseif $player.perceived_breastsize gte 5 and $player.perceived_breastsize lte 7>>
				<img @class="'layer-sexunder colour-under_upper anim-doggy-4f-'+_animspeed" src="img/sex/doggy/active/chestwrap/large.png" @style="($worn.under_upper.colour is 'custom' ? $worn.under_upper.colourCustom + _underUpperOpacity : '')">
			<<elseif $player.perceived_breastsize gte 8 and $player.perceived_breastsize lte 12>>
				<img @class="'layer-sexunder colour-under_upper anim-doggy-4f-'+_animspeed" src="img/sex/doggy/active/chestwrap/huge.png" @style="($worn.under_upper.colour is 'custom' ? $worn.under_upper.colourCustom + _underUpperOpacity : '')">
			<</if>>
		<</if>>
	<<elseif $worn.under_upper.name is "swim shirt">>
		<<if $worn.under_upper.state is "midriff" or $worn.under_upper.state is "waist">>
			<<set _state to "midriff">>
		<<else>>
			<<set _state to "neck">>
		<</if>>
		<<if $leftarm isnot "bound" and $leftarm isnot "grappled" and $leftarm isnot "behind">>
			<<set _bound to "">>
		<<else>>
			<<set _bound to "bound">>
		<</if>>
		<img @class="'layer-sexunder colour-under_upper anim-doggy-4f-'+_animspeed" @src="'img/sex/doggy/active/swimshirt/'+_bound+_state+'.png'" @style="($worn.under_upper.colour is 'custom' ? $worn.under_upper.colourCustom + _underUpperOpacity : '')">
	<<elseif $worn.under_upper.name is "shibari ropes">>
		<img @class="'layer-sexunder colour-under_upper anim-doggy-4f-'+_animspeed" @src="'img/sex/doggy/active/shibari/'+$worn.under_upper.state+'.png'" @style="($worn.under_upper.colour is 'custom' ? $worn.under_upper.colourCustom + _underUpperOpacity : '')">
	<<elseif !$worn.under_upper.type.includes("naked")>>
		<<if $worn.under_upper.state isnot "chest" and $worn.under_upper.state isnot "midriff">>
			<img @class="'layer-sexunder colour-under_upper anim-doggy-4f-'+_animspeed" src="img/sex/doggy/active/bikinitop/doggyactive_bikinitop_thorax.png" @style="($worn.under_upper.colour is 'custom' ? $worn.under_upper.colourCustom + _upperOpacity : '')">
		<<else>>
			<img @class="'layer-sexunder colour-under_upper anim-doggy-4f-'+_animspeed" @src="'img/sex/doggy/active/bikinitop/doggyactive_bikinitop_'+$worn.under_upper.state+'.png'" @style="($worn.under_upper.colour is 'custom' ? $worn.under_upper.colourCustom + _underUpperOpacity : '')">
		<</if>>
	<</if>>

	<<if $worn.face.variable.startsWith("gag")>>
		<img @class="'layer-sexunder colour-face anim-doggy-4f-'+_animspeed" src="img/sex/doggy/active/facewear/gag/full.png" @style="$worn.face.colourCustom">
		<<if $worn.face.type.includes("blindfold")>>
			<img @class="'layer-sexunder colour-face anim-doggy-4f-'+_animspeed" src="img/sex/doggy/active/facewear/blindfold/full.png" @style="$worn.face.colourCustom">
		<</if>>
	<<elseif $worn.face.variable.startsWith("muzzle")>>
		<img @class="'layer-sexunder colour-face anim-doggy-4f-'+_animspeed" src="img/sex/doggy/active/facewear/muzzle/full.png" @style="$worn.face.colourCustom">
	<<elseif $worn.face.name is "islander mask">>
		<img @class="'layer-sexsleeve anim-doggy-4f-'+_animspeed" @src="'img/sex/doggy/active/facewear/'+$worn.face.variable+'/full.png'">
	<<elseif $worn.face.name isnot "naked">>
		<img @class="'layer-sexunder colour-face anim-doggy-4f-'+_animspeed" @src="'img/sex/doggy/active/facewear/'+$worn.face.variable+'/full.png'" @style="$worn.face.colourCustom">
		/* hardcoded to fix missing image bug until the canvas combat renderer is replaced. forgive me my sins. */
		<<if $worn.face.accessory is 1 && ["monocle", "gasmask", "square", "round", "punk", "coolshades", "cateye", "belly", "aviator"].includes($worn.face.variable)>>
			<img @class="'layer-sexunder anim-doggy-4f-'+_animspeed" @src="'img/sex/doggy/active/facewear/'+$worn.face.variable+'/acc.png'" @style="$worn.face.accessory.colour">
		<</if>>
	<</if>>

	<<if $worn.neck.name is "cow bell">>
		<img @class="'layer-sexunder anim-doggy-4f-'+_animspeed" src="img/sex/doggy/active/cow/full.png">
	<<elseif $worn.neck.name is "necktie">>
		<img @class="'layer-sextiedoggy colour-neck anim-doggy-4f-'+_animspeed" src="img/sex/doggy/active/tie/neck.png">
	<<elseif $worn.neck.name is "scarf">>
		<img @class="'layer-sexunder colour-neck anim-doggy-4f-'+_animspeed" src="img/sex/doggy/active/scarf/full.png" @style="($worn.neck.colour is 'custom'? $worn.neck.colourCustom : '')">
	<<elseif $worn.neck.name is "gold choker">>
		<img @class="'layer-sexunder anim-doggy-4f-'+_animspeed" src="img/sex/doggy/active/goldchoker/full.png">
	<<elseif $worn.neck.name is "cloth choker">>
		<img @class="'layer-sexunder colour-neck anim-doggy-4f-'+_animspeed" src="img/sex/doggy/active/clothchoker/full.png" @style="($worn.neck.colour is 'custom'? $worn.neck.colourCustom : '')">
	<</if>>

	<<if $worn.hands.name isnot "naked">>
		<<if $worn.hands.leftImage is 1>>
			<<if $leftarm is "penis">>
				<<if $enemytype isnot "beast">>
					<img @class="'layer-sexunder colour-hands anim-doggy-4f-'+_animspeed" @src="'img/sex/doggy/active/hands/'+$worn.hands.variable+'/left handjob.png'" @style="$worn.hands.colourCustom">
				<</if>>
			<<elseif $leftarm is "bound">>
			<<elseif $leftarm is "grappled">>
			<<elseif $leftarm is "behind">>
			<<elseif $leftarmstate is "tentacle">>
			<<else>>
				<img @class="'layer-sexunder colour-hands anim-doggy-4f-'+_animspeed" @src="'img/sex/doggy/active/hands/'+$worn.hands.variable+'/left hand.png'" @style="$worn.hands.colourCustom">
			<</if>>
		<</if>>
		<<if $worn.hands.rightImage is 1>>
			<<if $rightarm is "penis">>
				<<if $enemytype isnot "beast">>
					<img @class="'layer-sexBackArm colour-hands anim-doggy-4f-'+_animspeed" @src="'img/sex/doggy/active/hands/'+$worn.hands.variable+'/right handjob.png'" @style="$worn.hands.colourCustom">
				<</if>>
			<<elseif $rightarm is "bound">>
			<<elseif $rightarm is "grappled">>
			<<elseif $rightarm is "behind">>
			<<elseif $rightarmstate is "tentacle">>
			<<else>>
				<img @class="'layer-sexBackArm colour-hands anim-doggy-4f-'+_animspeed" @src="'img/sex/doggy/active/hands/'+$worn.hands.variable+'/right hand.png'" @style="$worn.hands.colourCustom">
			<</if>>
		<</if>>
	<</if>>

	<<if $worn.feet.type.includes("heels") or ["light-up trainers"].includes($worn.feet.name)>>
		<<set _feetjob to ($feetuse is 'penis' ? 'feetjob' : $feetstate is 'tentacle' ? 'feetjob' : 'thighs')>>
		<<if $worn.feet.colour>>
			<<set _shoeColour to $worn.feet.colourCustom>>
		<</if>>
		<<if $worn.feet.accessory_colour>>
			<<set _shoeAccColour to $worn.feet.accessory_colourCustom>>
		<</if>>
		<img @class="'layer-sexunder colour-feet anim-doggy-4f-'+_animspeed" @src="'img/sex/doggy/active/shoes/' + $worn.feet.variable + '/' + _feetjob + '.png'" @style="_shoeColour">
		<<if $worn.feet.accessory>>
			<<if $worn.feet.accessory_colour isnot 0>>
				<img @class="'layer-sexshoes colour-feet_acc anim-doggy-4f-'+_animspeed" @src="'img/sex/doggy/active/shoes/' + $worn.feet.variable + '/' + _feetjob + 'acc.png'" @style="_shoeColour">
			<<else>>
				<img @class="'layer-sexshoes anim-doggy-4f-'+_animspeed" @src="'img/sex/doggy/active/shoes/' + $worn.feet.variable + '/' + _feetjob + 'acc.png'">
			<</if>>
		<</if>>
	<</if>>

	<<if !$worn.legs.type.includes("naked")>>
		<<if $feetuse is "penis" or $feetstate is "tentacle">>
			<<set _feetjob to "feetjob">>
		<<else>>
			<<set _feetjob to "rest">>
		<</if>>
		<<if $worn.legs.state is setup.clothes.legs[clothesIndex('legs', $worn.legs)].state_base>>
			<<set _feetposition to "full">>
		<<else>>
			<<set _feetposition to "knees">>
		<</if>>
		<<if $worn.legs.colour>>
			<<set _legColour to $worn.legs.colourCustom>>
		<</if>>
		<<if $worn.legs.accessory_colour>>
			<<set _legAccColour to $worn.legs.accessory_colourCustom>>
		<</if>>

		<<if setup.clothes.legs[clothesIndex('legs', $worn.legs)].colour_combat is 0>>
			<<if setup.clothes.legs[clothesIndex('legs', $worn.legs)].state_base is "waist">>
				<img @class="'layer-sexlegs colour-legs anim-doggy-4f-'+_animspeed" @src="'img/sex/doggy/active/legs/'
			+ $worn.legs.variable + '/' + _feetposition + _feetjob + '.png'" @style="_legColour">
			<<elseif setup.clothes.legs[clothesIndex('legs', $worn.legs)].state_base is "ankles">>
				<img @class="'layer-sexlegs colour-legs anim-doggy-4f-'+_animspeed" @src="'img/sex/doggy/active/legs/'
			+ $worn.legs.variable + '/' + _feetposition + _feetjob + 'left' + '.png'" @style="_legColour">
				<img @class="'layer-sexskinback colour-legs anim-doggy-4f-'+_animspeed" @src="'img/sex/doggy/active/legs/'
			+ $worn.legs.variable + '/' + _feetposition + _feetjob + 'right' + '.png'" @style="_legColour">
			<<else>>
				<img @class="'layer-sexlegs colour-legs anim-doggy-4f-'+_animspeed" @src="'img/sex/doggy/active/legs/'
			+ $worn.legs.variable + '/' + _feetposition + _feetjob + 'left' + '.png'" @style="_legColour">
				<img @class="'layer-sexskinback colour-legs anim-doggy-4f-'+_animspeed" @src="'img/sex/doggy/active/legs/'
			+ $worn.legs.variable + '/' + _feetposition + _feetjob + 'right' + '.png'" @style="_legColour">
			<</if>>
		<</if>>
		<<if $worn.legs.accessory and setup.clothes.legs[clothesIndex('legs', $worn.legs)].accessory_colour_combat is 0>>
			<<if setup.clothes.legs[clothesIndex('legs', $worn.legs)].state_base is "waist">>
				<img @class="'layer-sexlegsacc colour-legs_acc anim-doggy-4f-'+_animspeed" @src="'img/sex/doggy/active/legs/'
				+ $worn.legs.variable + '/' + _feetposition + _feetjob + 'acc.png'" @style="_legAccColour">
			<<elseif setup.clothes.legs[clothesIndex('legs', $worn.legs)].state_base is "ankles">>
				<img @class="'layer-sexlegsacc colour-legs_acc anim-doggy-4f-'+_animspeed" @src="'img/sex/doggy/active/legs/'
				+ $worn.legs.variable + '/' + _feetposition + _feetjob + 'left' + 'acc.png'" @style="_legAccColour">
				<img @class="'layer-sexlegsbackacc colour-legs_acc anim-doggy-4f-'+_animspeed" @src="'img/sex/doggy/active/legs/'
				+ $worn.legs.variable + '/' + _feetposition + _feetjob + 'right' + 'acc.png'" @style="_legAccColour">
			<<else>>
				<img @class="'layer-sexlegsacc colour-legs_acc anim-doggy-4f-'+_animspeed" @src="'img/sex/doggy/active/legs/'
				+ $worn.legs.variable + '/' + _feetposition + _feetjob + 'left' + 'acc.png'" @style="_legAccColour">
				<img @class="'layer-sexlegsbackacc colour-legs_acc anim-doggy-4f-'+_animspeed" @src="'img/sex/doggy/active/legs/'
				+ $worn.legs.variable + '/' + _feetposition + _feetjob + 'right' + 'acc.png'" @style="_legAccColour">
			<</if>>
		<</if>>
	<</if>>

	</div>
<</widget>>

<<widget "clothesidle">>
	<<imgOpacity>>
	<div class="i256">

	<<if !["naked", "lolita headband", "kittycat hat", "newsboy cap", "sexy nun's veil", "sexy nun's ornate veil", "visor"].includes($worn.head.name) and !$worn.head.hood>>
		<img class="layer-sexsleeve colour-head anim-idle-2f" @src="'img/sex/doggy/active/head/'+$worn.head.variable+'/full.png'" @style="$worn.head.colourCustom">
		<<if $worn.head.accessory is 1>>
			<img class="layer-sexsleeve colour-head_acc anim-idle-2f" @src="'img/sex/doggy/active/head/'+$worn.head.variable+'/acc.png'" @style="($worn.head.accessory_colour is 'custom' ? $worn.head.accessory_colourCustom : '')">
		<</if>>
		<<if $worn.head.back_img is 1 or $worn.head.back_img is "combat">>
			<img class="layer-sexlower colour-head anim-idle-2f" @src="'img/sex/doggy/active/head/'+$worn.head.variable+'/back.png'" @style="$worn.head.colourCustom">
		<</if>>
	<</if>>

	<<if $worn.upper.set is $worn.lower.set and setup.clothes.lower[clothesIndex('lower', $worn.lower)].skirt is 1>>
		<<set $_skirtOutfit to true>>
		<<if $worn.upper.name is "large towel">>
			<img class="layer-sexupper colour-upper anim-idle-2f" @src="'img/sex/doggy/active/largetowel/' + $worn.upper.state + '.png'" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
		<<elseif $worn.upper.state is "waist">>
			<<if $worn.lower.skirt_down is 1>>
				<img class="layer-sexlower colour-upper anim-idle-2f" src="img/sex/doggy/active/dress/doggyactive_dress_thighs.png" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
			<<elseif $worn.lower.skirt_down is 0>>
				<img class="layer-sexlower colour-upper anim-idle-2f" src="img/sex/doggy/active/dress/doggyactive_dress_hips.png" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
			<</if>>
		<<elseif $worn.upper.state is "midriff">>
			<img class="layer-sexlower colour-upper anim-idle-2f" src="img/sex/doggy/active/dress/doggyactive_dress_tummy.png" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
		<<elseif $worn.upper.state is "chest">>
			<img class="layer-sexlower colour-upper anim-idle-2f" src="img/sex/doggy/active/dress/doggyactive_dress_neck.png" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
		<</if>>
	<</if>>

	<<if $feetuse is "penis" or $feetstate is "tentacles">>
		<<set _feet_pos to "footjob_">>
	<<else>>
		<<set _feet_pos to "">>
	<</if>>

	<<if $worn.lower.name is "towel skirt">>
		<<if setup.clothes.lower[clothesIndex('lower', $worn.lower)].skirt is 1 and $worn.lower.skirt_down is 0 and $worn.lower.state is "waist">>
			<img class="layer-sexlower colour-lower anim-idle-2f"
			@src="'img/sex/doggy/active/lowertowel/doggyactive_towel_skirtup.png'" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
		<<else>>
			<img class="layer-sexlower colour-lower anim-idle-2f"
			@src="'img/sex/doggy/active/lowertowel/doggyactive_towel_' + $worn.lower.state + '.png'" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
		<</if>>
	<<elseif $worn.lower.name is "gym bloomers">>
		<<if $worn.lower.state is "waist">>
			<img class="layer-sexlower colour-lower anim-idle-2f" src="img/sex/doggy/active/gymbloomers/doggyactive_shorts_hips.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
		<<elseif $worn.lower.state is "thighs">>
			<img class="layer-sexlower colour-lower anim-idle-2f" src="img/sex/doggy/active/gymbloomers/doggyactive_shorts_thighs.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
		<<elseif $worn.lower.state is "knees">>
			<img class="layer-sexlower colour-lower anim-idle-2f" src="img/sex/doggy/active/gymbloomers/doggyactive_shorts_knees.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
		<<elseif $worn.lower.state is "ankles">>
			<img class="layer-sexlower colour-lower anim-idle-2f" src="img/sex/doggy/active/gymbloomers/doggyactive_shorts_ankles.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
		<</if>>
	<<elseif $worn.lower.name is "denim shorts">>
		<<if $worn.lower.state is "waist">>
			<img class="layer-sexlower colour-lower anim-idle-2f" src="img/sex/doggy/active/denimshorts/waist.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
		<<elseif $worn.lower.state is "thighs">>
			<img class="layer-sexlower colour-lower anim-idle-2f" src="img/sex/doggy/active/denimshorts/thighs.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
		<<elseif $worn.lower.state is "knees">>
			<img class="layer-sexlower colour-lower anim-idle-2f" src="img/sex/doggy/active/denimshorts/knees.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
		<<elseif $worn.lower.state is "ankles">>
			<<if _feet_pos is "footjob_">>
				<img class="layer-sexlower colour-lower anim-idle-2f" src="img/sex/doggy/active/denimshorts/footjob_ankles.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
			<<else>>
				<img class="layer-sexlower colour-lower anim-idle-2f" src="img/sex/doggy/active/denimshorts/ankles.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
			<</if>>
		<</if>>
	<<elseif $worn.lower.name is "booty jorts">>
		<<if $worn.lower.state is "waist">>
			<img class="layer-sexlower colour-lower anim-idle-2f" src="img/sex/doggy/active/bootyjorts/waist.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
		<<elseif $worn.lower.state is "thighs">>
			<img class="layer-sexlower colour-lower anim-idle-2f" src="img/sex/doggy/active/bootyjorts/thighs.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
		<<elseif $worn.lower.state is "knees">>
			<img class="layer-sexlower colour-lower anim-idle-2f" src="img/sex/doggy/active/bootyjorts/knees.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
		<<elseif $worn.lower.state is "ankles">>
			<<if _feet_pos is "footjob_">>
				<img class="layer-sexlower colour-lower anim-idle-2f" src="img/sex/doggy/active/bootyjorts/footjob_ankles.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
			<<else>>
				<img class="layer-sexlower colour-lower anim-idle-2f" src="img/sex/doggy/active/bootyjorts/ankles.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
			<</if>>
		<</if>>
	<<elseif $worn.lower.name is "rag skirt">>
		<<if $worn.lower.state is "waist">>
			<img class="layer-sexlower colour-lower anim-idle-2f" src="img/sex/doggy/active/ragskirt/waist.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
		<<elseif $worn.lower.state is "thighs">>
			<img class="layer-sexlower colour-lower anim-idle-2f" src="img/sex/doggy/active/ragskirt/thighs.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
		<<elseif $worn.lower.state is "knees">>
			<img class="layer-sexlower colour-lower anim-idle-2f" src="img/sex/doggy/active/ragskirt/knees.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
		<<elseif $worn.lower.state is "ankles">>
			<<if _feet_pos is "footjob_">>
				<img class="layer-sexlower colour-lower anim-idle-2f" src="img/sex/doggy/active/ragskirt/footjob_ankles.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
			<<else>>
				<img class="layer-sexlower colour-lower anim-idle-2f" src="img/sex/doggy/active/ragskirt/ankles.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
			<</if>>
		<</if>>
	<<elseif $worn.lower.name is "micro pleated skirt">>
		<<switch $worn.lower.state>>
			<<case "waist">>
				<<if $worn.lower.skirt_down is 0>>
					<img class="layer-sexlower colour-lower anim-idle-2f" src="img/sex/doggy/active/micropleatedskirt/waist.png"
					@style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
				<<else>>
					<img class="layer-sexlower colour-lower anim-idle-2f" src="img/sex/doggy/active/micropleatedskirt/hips.png"
					@style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
				<</if>>
			<<case "thighs">>
				<img class="layer-sexlower colour-lower anim-idle-2f" src="img/sex/doggy/active/micropleatedskirt/thighs.png"
				@style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
			<<case "knees">>
				<img class="layer-sexlower colour-lower anim-idle-2f" src="img/sex/doggy/active/micropleatedskirt/knees.png"
				@style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
			<<case "ankles">>
				<img class="layer-sexlower colour-lower anim-idle-2f" src="img/sex/doggy/active/micropleatedskirt/ankles.png"
				@style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
		<</switch>>
	<<elseif !$worn.lower.type.includes("naked") and !$_skirtOutfit>>
		<<if setup.clothes.lower[clothesIndex('lower', $worn.lower)].skirt is 1>>
			<<if setup.clothes.lower[clothesIndex('lower', $worn.lower)].short is 1>>
				<<if $worn.lower.skirt_down is 0 and $worn.lower.state is "waist">>
					<img class="layer-sexlower colour-lower anim-idle-2f" src="img/sex/doggy/active/skirt/doggyactive_skirt_waist.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
				<<elseif $worn.lower.vagina_exposed is 1>>
					<img class="layer-sexlower colour-lower anim-idle-2f" src="img/sex/doggy/active/skirt/doggyactive_skirt_waist.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
				<<elseif $worn.lower.state is "waist">>
					<img class="layer-sexlower colour-lower anim-idle-2f" src="img/sex/doggy/active/skirt/doggyactive_skirt_hips.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
				<<elseif $worn.lower.state is "thighs">>
					<img class="layer-sexlower colour-lower anim-idle-2f" src="img/sex/doggy/active/skirt/doggyactive_skirt_thighs.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
				<<elseif $worn.lower.state is "knees">>
					<img class="layer-sexlower colour-lower anim-idle-2f" src="img/sex/doggy/active/skirt/doggyactive_skirt_knees.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
				<<elseif $worn.lower.state is "ankles">>
					<img class="layer-sexlower colour-lower anim-idle-2f" src="img/sex/doggy/active/skirt/doggyactive_skirt_ankles.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
				<</if>>
			<<else>>
				<<if $worn.lower.state is "waist">>
					<img class="layer-sexlower colour-lower anim-idle-2f" @src="'img/sex/doggy/active/longskirt/' + _feet_pos + 'waist.png'" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
				<<elseif $worn.lower.state is "thighs">>
					<img class="layer-sexlower colour-lower anim-idle-2f" @src="'img/sex/doggy/active/longskirt/' + _feet_pos + 'thighs.png'" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
				<<elseif $worn.lower.state is "knees">>
					<img class="layer-sexlower colour-lower anim-idle-2f" @src="'img/sex/doggy/active/longskirt/' + _feet_pos + 'knees.png'" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
				<<elseif $worn.lower.state is "ankles">>
					<img class="layer-sexlower colour-lower anim-idle-2f" @src="'img/sex/doggy/active/longskirt/' + _feet_pos + 'ankles.png'" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
				<</if>>
			<</if>>
		<<elseif $worn.lower.state is "waist">>
			<<if $worn.lower.name is "jeans">>
				<img class="layer-sexlower anim-idle-2f" @src="'img/sex/doggy/active/jeans/' + _feet_pos + 'waist.png'">
			<<elseif setup.clothes.lower[clothesIndex('lower', $worn.lower)].short is 1>>
				<img class="layer-sexlower colour-lower anim-idle-2f" @src="'img/sex/doggy/active/shorts/' + _feet_pos + 'waist.png'" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
			<<else>>
				<img class="layer-sexlower colour-lower anim-idle-2f" @src="'img/sex/doggy/active/trousers/' + _feet_pos + 'waist.png'" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
			<</if>>
		<<elseif $worn.lower.state is "thighs">>
			<<if $worn.lower.name is "jeans">>
				<img class="layer-sexlower anim-idle-2f" @src="'img/sex/doggy/active/jeans/' + _feet_pos + 'thighs.png'">
			<<elseif setup.clothes.lower[clothesIndex('lower', $worn.lower)].short is 1>>
				<img class="layer-sexlower colour-lower anim-idle-2f" @src="'img/sex/doggy/active/shorts/' + _feet_pos + 'thighs.png'" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
			<<else>>
				<img class="layer-sexlower colour-lower anim-idle-2f" @src="'img/sex/doggy/active/trousers/' + _feet_pos + 'thighs.png'" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
			<</if>>
		<<elseif $worn.lower.state is "knees">>
			<<if $worn.lower.name is "jeans">>
				<img class="layer-sexlower anim-idle-2f" @src="'img/sex/doggy/active/jeans/' + _feet_pos + 'knees.png'">
			<<elseif setup.clothes.lower[clothesIndex('lower', $worn.lower)].short is 1>>
				<img class="layer-sexlower colour-lower anim-idle-2f" @src="'img/sex/doggy/active/shorts/' + _feet_pos + 'knees.png'" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
			<<else>>
				<img class="layer-sexlower colour-lower anim-idle-2f" @src="'img/sex/doggy/active/trousers/' + _feet_pos + 'knees.png'" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
			<</if>>
		<<elseif $worn.lower.state is "ankles">>
			<<if $worn.lower.name is "jeans">>
				<img class="layer-sexlower anim-idle-2f" @src="'img/sex/doggy/active/jeans/' + _feet_pos + 'ankles.png'">
			<<elseif setup.clothes.lower[clothesIndex('lower', $worn.lower)].short is 1>>
				<img class="layer-sexlower colour-lower anim-idle-2f" @src="'img/sex/doggy/active/shorts/' + _feet_pos + 'ankles.png'" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
			<<else>>
				<img class="layer-sexlower colour-lower anim-idle-2f" @src="'img/sex/doggy/active/trousers/' + _feet_pos + 'ankles.png'" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
			<</if>>
		<</if>>
	<</if>>

	<<if $worn.under_lower.name is "bikini bottoms">>
		<img class="layer-sexunder colour-under_lower anim-idle-2f"
		@src="'img/sex/doggy/active/bikinibottom/doggyactive_bikinibottom_' + $worn.under_lower.state + '.png'" @style="($worn.under_lower.colour is 'custom'? $worn.under_lower.colourCustom + _underLowerOpacity : '')">
	<<elseif $worn.under_lower.name is "highwaisted microkini bottom">>
		<img class="layer-sexunder colour-under_lower anim-idle-2f"
		@src="'img/sex/doggy/active/under_lower/highmicrokini/' + $worn.under_lower.state + '.png'" @style="($worn.under_lower.colour is 'custom'? $worn.under_lower.colourCustom + _underLowerOpacity : '')">
	<<elseif $worn.under_lower.name is "cow panties">>
		<img class="layer-sexunder colour-under_lower anim-doggy-2f" src="img/sex/doggy/active/cowpanties/waist.png">
	<<elseif $worn.under_lower.type.includes("strap-on") and $worn.lower.vagina_exposed is 1>>
		<img class="layer-sexunder colour-under_lower anim-idle-2f"
		@src="'img/sex/doggy/active/strapon/doggyactive_strapon_' + $worn.under_lower.state + '.png'" @style="($worn.under_lower.colour is 'custom'? $worn.under_lower.colourCustom + _underLowerOpacity : '')">
	<<elseif $worn.under_lower.name is "thong" or $worn.under_lower.name is "microkini bottom">>
		<<if $worn.under_lower.state is "waist">>
			<img class="layer-sexunder colour-under_lower anim-idle-2f" src="img/sex/doggy/active/thong/waist.png" @style="($worn.under_lower.colour is 'custom'? $worn.under_lower.colourCustom + _underLowerOpacity : '')">
		<<elseif $worn.under_lower.state is "totheside">>
			<img class="layer-sexunder colour-under_lower anim-idle-2f" src="img/sex/doggy/active/thong/totheside.png" @style="($worn.under_lower.colour is 'custom'? $worn.under_lower.colourCustom + _underLowerOpacity : '')">
		<<elseif $worn.under_lower.state is "thighs">>
			<img class="layer-sexunder colour-under_lower anim-idle-2f" src="img/sex/doggy/active/thong/thighs.png" @style="($worn.under_lower.colour is 'custom'? $worn.under_lower.colourCustom + _underLowerOpacity : '')">
		<<elseif $worn.under_lower.state is "knees">>
			<img class="layer-sexunder colour-under_lower anim-idle-2f" src="img/sex/doggy/active/thong/knees.png" @style="($worn.under_lower.colour is 'custom'? $worn.under_lower.colourCustom + _underLowerOpacity : '')">
		<<elseif $worn.under_lower.state is "ankles">>
			<<if _feet_pos is "footjob_">>
				<img class="layer-sexunder colour-under_lower anim-idle-2f" src="img/sex/doggy/active/thong/footjob_ankles.png" @style="($worn.under_lower.colour is 'custom'? $worn.under_lower.colourCustom + _underLowerOpacity : '')">
			<<else>>
				<img class="layer-sexunder colour-under_lower anim-idle-2f" src="img/sex/doggy/active/thong/ankles.png" @style="($worn.under_lower.colour is 'custom'? $worn.under_lower.colourCustom + _underLowerOpacity : '')">
			<</if>>
		<</if>>
	<<elseif !$worn.under_lower.type.includes("naked")>>
		<<if $worn.under_lower.state is "waist" or $worn.under_lower.state is "totheside">>
			<img class="layer-sexunder colour-under_lower anim-idle-2f" src="img/sex/doggy/active/plainpanties/doggyactive_plainpanties_hips.png" @style="($worn.under_lower.colour is 'custom'? $worn.under_lower.colourCustom + _underLowerOpacity : '')">
		<<elseif $worn.under_lower.state is "thighs">>
			<img class="layer-sexunder colour-under_lower anim-idle-2f" src="img/sex/doggy/active/plainpanties/doggyactive_plainpanties_thighs.png" @style="($worn.under_lower.colour is 'custom'? $worn.under_lower.colourCustom + _underLowerOpacity : '')">
		<<elseif $worn.under_lower.state is "knees">>
			<img class="layer-sexunder colour-under_lower anim-idle-2f" src="img/sex/doggy/active/plainpanties/doggyactive_plainpanties_knees.png" @style="($worn.under_lower.colour is 'custom'? $worn.under_lower.colourCustom + _underLowerOpacity : '')">
		<<elseif $worn.under_lower.state is "ankles">>
			<img class="layer-sexunder colour-under_lower anim-idle-2f" src="img/sex/doggy/active/plainpanties/doggyactive_plainpanties_ankles.png" @style="($worn.under_lower.colour is 'custom'? $worn.under_lower.colourCustom + _underLowerOpacity : '')">
		<</if>>
	<</if>>

	<<if $worn.upper.name is "tube top" or $worn.upper.name is "towel top">>
		<<if $worn.upper.state_top is "chest">>
			<<if $player.perceived_breastsize is 0>>
				<<set _tit = "none">>
			<<elseif $player.perceived_breastsize lte 2>>
				<<set _tit = "tiny">>
			<<elseif $player.perceived_breastsize lte 4>>
				<<set _tit = "small">>
			<<elseif $player.perceived_breastsize lte 6>>
				<<set _tit = "large">>
			<<else>>
				<<set _tit = "huge">>
			<</if>>
		<</if>>
		<<set _tubeimg = $worn.upper.state_top>>
		<<if _tubeimg is "ankles" and ($feetuse is "penis" or $feetstate is "tentacle")>>
			<<set _tubeimg += "feetjob">>
		<</if>>
		<<if (_tubeimg is "chest" or _tubeimg is "midriff") and ($leftarm is "bound" or $leftarm is "grappled" or $leftarm is "behind")>>
			<<set _tubeimg += "bound">>
		<</if>>
		<img class="layer-sexupper colour-upper" @src="'img/sex/doggy/active/tubetop/'+_tubeimg+'.png'" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
		<<if _tit>>
			<img class="layer-sexbreastupper colour-upper" @src="'img/sex/doggy/active/tubetop/'+_tit+'.png'" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
		<</if>>

	<<elseif $worn.upper.name is "tank top">>
		<<if $leftarm isnot "bound" and $leftarm isnot "grappled" and $leftarm isnot "behind">>
			<<if $worn.upper.state is "waist">>
				<img class="layer-sexupper colour-upper anim-idle-2f" src="img/sex/doggy/active/tanktop/doggyactive_tanktop_waist.png" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
			<<else>>
				<img class="layer-sexupper colour-upper anim-idle-2f" src="img/sex/doggy/active/tanktop/doggyactive_tanktop_neck.png" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
			<</if>>
		<<else>>
			<<if $worn.upper.state is "waist">>
				<img class="layer-sexupper colour-upper anim-idle-2f" src="img/sex/doggy/active/tanktop/doggyactive_tanktop_boundwaist.png" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
			<<else>>
				<img class="layer-sexupper colour-upper anim-idle-2f" src="img/sex/doggy/active/tanktop/doggyactive_tanktop_boundneck.png" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
			<</if>>
		<</if>>
	<<elseif $worn.upper.name is "gym shirt">>
		<<if $leftarm isnot "bound" and $leftarm isnot "grappled" and $leftarm isnot "behind">>
			<<if $worn.upper.state is "waist">>
				<img class="layer-sexupper colour-upper anim-idle-2f" src="img/sex/doggy/active/gymshirt/waist.png" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
				<img class="layer-sexupper colour-upper_acc anim-idle-2f" src="img/sex/doggy/active/gymshirt/waist_acc.png" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
			<<else>>
				<img class="layer-sexupper colour-upper anim-idle-2f" src="img/sex/doggy/active/gymshirt/neck.png" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
				<img class="layer-sexupper colour-upper_acc anim-idle-2f" src="img/sex/doggy/active/gymshirt/neck_acc.png" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
			<</if>>
		<<else>>
			<<if $worn.upper.state is "waist">>
				<img class="layer-sexupper colour-upper anim-idle-2f" src="img/sex/doggy/active/gymshirt/boundwaist.png" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
				<img class="layer-sexupper colour-upper_acc anim-idle-2f" src="img/sex/doggy/active/gymshirt/boundwaist_acc.png" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
			<<else>>
				<img class="layer-sexupper colour-upper anim-idle-2f" src="img/sex/doggy/active/gymshirt/boundneck.png" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
				<img class="layer-sexupper colour-upper_acc anim-idle-2f" src="img/sex/doggy/active/gymshirt/boundneck_acc.png" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
			<</if>>
		<</if>>
	<<elseif $worn.upper.name is "rag top">>
		<<if $player.perceived_breastsize is 0>>
			<<set _tit = "none">>
		<<elseif $player.perceived_breastsize lte 2>>
			<<set _tit = "tiny">>
		<<elseif $player.perceived_breastsize lte 4>>
			<<set _tit = "small">>
		<<elseif $player.perceived_breastsize lte 6>>
			<<set _tit = "large">>
		<<else>>
			<<set _tit = "huge">>
		<</if>>
		<img class="layer-sexbreastupper colour-upper anim-idle-2f" @src="'img/sex/doggy/active/ragtop/'+_tit+'.png'">
	<<elseif $worn.upper.name is "virgin killer">>
		<img class="layer-sexupper colour-upper anim-idle-2f" @src="'img/sex/doggy/active/virginkiller/' + $worn.upper.state + '.png'" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
	<<elseif $worn.upper.name is "sweater" or $worn.upper.name is "girl's sweater">>
		<img class="layer-sexupper colour-upper anim-idle-2f" @src="'img/sex/doggy/active/sweater/' + $worn.upper.state + '.png'" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
	<<elseif $worn.upper.name is "cable knit turtleneck" or $worn.upper.name is "turtleneck jumper">>
		<img class="layer-sexupper colour-upper anim-idle-2f" @src="'img/sex/doggy/active/long turtleneck/' + $worn.upper.state + '.png'" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
	<<elseif $worn.upper.name is "turtleneck">>
		<<switch $player.perceived_breastsize>>
			<<case 8 9 10 11 12>>
						<img class="layer-sexupper colour-upper anim-idle-2f" @src="'img/sex/doggy/active/turtleneck/' + $worn.upper.state + ($worn.upper.state is 'chest' ? ('_' + '4') : '') + '.png'" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
			<<case 5 6 7>>
						<img class="layer-sexupper colour-upper anim-idle-2f" @src="'img/sex/doggy/active/turtleneck/' + $worn.upper.state + ($worn.upper.state is 'chest' ? ('_' + '3') : '') + '.png'" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
			<<case 3 4>>
						<img class="layer-sexupper colour-upper anim-idle-2f" @src="'img/sex/doggy/active/turtleneck/' + $worn.upper.state + ($worn.upper.state is 'chest' ? ('_' + '2') : '') + '.png'" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
			<<case 1 2>>
				<img class="layer-sexupper colour-upper anim-idle-2f" @src="'img/sex/doggy/active/turtleneck/' + $worn.upper.state + ($worn.upper.state is 'chest' ? ('_' + '1') : '') + '.png'" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
			<<case 0>>
				<img class="layer-sexupper colour-upper anim-idle-2f" @src="'img/sex/doggy/active/turtleneck/' + $worn.upper.state + ($worn.upper.state is 'chest' ? ('_' + '0') : '') + '.png'" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
		<</switch>>
	<<elseif $worn.upper.name is "tie-front top">>
		<<if $worn.upper.state is "waist">>
			<<switch $player.perceived_breastsize>>
				<<case 8 9 10 11 12>>
					<img class="layer-sexbasefront colour-upper anim-idle-2f" src="img/sex/doggy/active/tiefronttop/huge.png"
					@style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
				<<case 5 6 7>>
					<img class="layer-sexbasefront colour-upper anim-idle-2f" src="img/sex/doggy/active/tiefronttop/large.png"
					@style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
				<<case 3 4>>
					<img class="layer-sexbasefront colour-upper anim-idle-2f" src="img/sex/doggy/active/tiefronttop/small.png"
					@style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
				<<case 1 2>>
					<img class="layer-sexbasefront colour-upper anim-idle-2f" src="img/sex/doggy/active/tiefronttop/tiny.png"
					@style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
				<<case 0>>
					<img class="layer-sexbasefront colour-upper anim-idle-2f" src="img/sex/doggy/active/tiefronttop/none.png"
					@style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
			<</switch>>
		<</if>>
	<<elseif !$worn.upper.type.includes("naked") and !$_skirtOutfit>>
		<<if $leftarm isnot "bound" and $leftarm isnot "grappled" and $leftarm isnot "behind">>
			<<if $worn.upper.state is "waist">>
				<img class="layer-sexupper colour-upper anim-idle-2f" src="img/sex/doggy/active/t-shirt/doggyactive_tshirt_waist.png" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
			<<else>>
				<img class="layer-sexupper colour-upper anim-idle-2f" src="img/sex/doggy/active/t-shirt/doggyactive_tshirt_neck.png" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
			<</if>>
		<<else>>
			<<if $worn.upper.state is "waist">>
				<img class="layer-sexupper colour-upper anim-idle-2f" src="img/sex/doggy/active/t-shirt/doggyactive_tshirt_boundwaist.png" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">

			<<else>>
				<img class="layer-sexupper colour-upper anim-idle-2f" src="img/sex/doggy/active/t-shirt/doggyactive_tshirt_boundneck.png" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
			<</if>>
		<</if>>
	<</if>>

	<<if setup.clothes.upper[clothesIndex('upper', $worn.upper)].sleeve_img is 1 and $worn.upper.name isnot "t-shirt">>
		<<if $worn.upper.name is "turtleneck">>
			<<set _sleeves to "turtleneck">>
		<<elseif $worn.upper.name is "sweater" or $worn.upper.name is "girl's sweater" or $worn.upper.name is "cable knit turtleneck" or $worn.upper.name is "turtleneck jumper">>
			<<set _sleeves to "sweatersleeves">>
		<<else>>
			<<set _sleeves to "sleeves">>
		<</if>>
		<<if $leftarm is "bound" or $leftarm is "grappled" or $leftarm is "behind">>
			<img @class="'layer-sexsleeve colour-upper anim-doggy-2f-'+_animspeed" @src="'img/sex/doggy/active/' + _sleeves + '/left_sleeve_bound.png'" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
		<<elseif $leftarm is "penis" or $leftarmstate is "tentacle">>
			<img @class="'layer-sexsleeve colour-upper anim-doggy-2f-'+_animspeed" @src="'img/sex/doggy/active/' + _sleeves + '/left_sleeve_handjob.png'" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
		<<else>>
			<img @class="'layer-sexsleeve colour-upper anim-doggy-2f-'+_animspeed" @src="'img/sex/doggy/active/' + _sleeves + '/left_sleeve.png'" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
		<</if>>
		<<if $rightarm is "penis" or $rightarmstate is "tentacle">>
			<img @class="'layer-sexsleeveback colour-upper anim-doggy-2f-'+_animspeed" @src="'img/sex/doggy/active/' + _sleeves + '/right_sleeve_handjob.png'" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
		<<elseif $rightarm isnot "bound" and $rightarm isnot "grappled" and $rightarm isnot "behind">>
			<img @class="'layer-sexsleeveback colour-upper anim-doggy-2f-'+_animspeed" @src="'img/sex/doggy/active/' + _sleeves + '/right_sleeve.png'" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
		<</if>>
	<</if>>

	<<if $worn.under_upper.name is "bikini top">>
		<<if $worn.under_upper.state isnot "chest" and $worn.under_upper.state isnot "midriff">>
			<img class="layer-sexunder colour-under_upper anim-idle-2f" src="img/sex/doggy/active/bikinitop/doggyactive_bikinitop_thorax.png" @style="($worn.under_upper.colour is 'custom' ? $worn.under_upper.colourCustom + _underUpperOpacity : '')">
		<<else>>
			<img class="layer-sexunder colour-under_upper anim-idle-2f" @src="'img/sex/doggy/active/bikinitop/doggyactive_bikinitop_'+$worn.under_upper.state+'.png'" @style="($worn.under_upper.colour is 'custom' ? $worn.under_upper.colourCustom + _underUpperOpacity : '')">
		<</if>>
	<<elseif $worn.under_upper.name is "cow bra">>
		<<if $worn.under_upper.state_top is "chest">>
			<<if $player.perceived_breastsize is 0>>
				<<set _tit = "none">>
			<<elseif $player.perceived_breastsize lte 2>>
				<<set _tit = "tiny">>
			<<elseif $player.perceived_breastsize lte 4>>
				<<set _tit = "small">>
			<<elseif $player.perceived_breastsize lte 6>>
				<<set _tit = "large">>
			<<else>>
				<<set _tit = "huge">>
			<</if>>
		<</if>>
		<img class="layer-sexbreastunderupper colour-under_upper anim-idle-2f" @src="'img/sex/doggy/active/cowbra/'+_tit+'.png'">
	<<elseif $worn.under_upper.name is "tape">>
		<<if $player.perceived_breastsize is 0>>
			<<set _size to "none">>
		<<elseif $player.perceived_breastsize is 1 or $player.perceived_breastsize is 2>>
			<<set _size to "tiny">>
		<<elseif $player.perceived_breastsize is 3 or $player.perceived_breastsize is 4>>
			<<set _size to "small">>
		<<elseif $player.perceived_breastsize gte 5 and $player.perceived_breastsize lte 7>>
			<<set _size to "large">>
		<<elseif $player.perceived_breastsize gte 8 and $player.perceived_breastsize lte 12>>
			<<set _size to "huge">>
		<</if>>
		<img @class="'layer-sexbreastunderupper colour-under_upper'" @src="'img/sex/doggy/active/tape/'+_size+'.png'" @style="($worn.under_upper.colour is 'custom' ? $worn.under_upper.colourCustom + _underUpperOpacity : '')">
	<<elseif $worn.under_upper.name is "mesh shirt">>
		<<if $worn.under_upper.exposed is 0>>
			<<if $player.perceived_breastsize is 0>>
				<<set _size to "none">>
			<<elseif $player.perceived_breastsize is 1 or $player.perceived_breastsize is 2>>
				<<set _size to "tiny">>
			<<elseif $player.perceived_breastsize is 3 or $player.perceived_breastsize is 4>>
				<<set _size to "small">>
			<<elseif $player.perceived_breastsize gte 5 and $player.perceived_breastsize lte 7>>
				<<set _size to "large">>
			<<elseif $player.perceived_breastsize gte 8 and $player.perceived_breastsize lte 12>>
				<<set _size to "huge">>
			<</if>>
			<img @class="'layer-sexbreastunderupper colour-under_upper'" @src="'img/sex/doggy/active/mesh/'+_size+'.png'" @style="($worn.under_upper.colour is 'custom' ? $worn.under_upper.colourCustom + _underUpperOpacity : '')">
		<</if>>

		<<if $worn.under_upper.state is "midriff">>
			<<set _state to "midriff">>
		<<else>>
			<<set _state to "neck">>
		<</if>>
		<<if $leftarm isnot "bound" and $leftarm isnot "grappled" and $leftarm isnot "behind">>
			<<set _bound to "">>
		<<else>>
			<<set _bound to "bound">>
		<</if>>
		<img @class="'layer-sexunder colour-under_upper anim-idle-2f'" @src="'img/sex/doggy/active/mesh/doggyactive_mesh_'+_bound+_state+'.png'" @style="($worn.under_upper.colour is 'custom' ? $worn.under_upper.colourCustom + _upperOpacity : '')">

	<<elseif $worn.under_upper.name is "chest wrap">>
		<<if $worn.under_upper.exposed is 0>>
			<<if $player.perceived_breastsize is 0>>
				<img class="layer-sexunder colour-under_upper anim-idle-2f" src="img/sex/doggy/active/chestwrap/none.png" @style="($worn.under_upper.colour is 'custom' ? $worn.under_upper.colourCustom + _underUpperOpacity : '')">
			<<elseif $player.perceived_breastsize is 1 or $player.perceived_breastsize is 2>>
				<img class="layer-sexunder colour-under_upper anim-idle-2f" src="img/sex/doggy/active/chestwrap/tiny.png" @style="($worn.under_upper.colour is 'custom' ? $worn.under_upper.colourCustom + _underUpperOpacity : '')">
			<<elseif $player.perceived_breastsize is 3 or $player.perceived_breastsize is 4>>
				<img class="layer-sexunder colour-under_upper anim-idle-2f" src="img/sex/doggy/active/chestwrap/small.png" @style="($worn.under_upper.colour is 'custom' ? $worn.under_upper.colourCustom + _underUpperOpacity : '')">
			<<elseif $player.perceived_breastsize gte 5 and $player.perceived_breastsize lte 7>>
				<img class="layer-sexunder colour-under_upper anim-idle-2f" src="img/sex/doggy/active/chestwrap/large.png" @style="($worn.under_upper.colour is 'custom' ? $worn.under_upper.colourCustom + _underUpperOpacity : '')">
			<<elseif $player.perceived_breastsize gte 8 and $player.perceived_breastsize lte 12>>
				<img class="layer-sexunder colour-under_upper anim-idle-2f" src="img/sex/doggy/active/chestwrap/huge.png" @style="($worn.under_upper.colour is 'custom' ? $worn.under_upper.colourCustom + _underUpperOpacity : '')">
			<</if>>
		<</if>>
	<<elseif $worn.under_upper.name is "swim shirt">>
		<<if $worn.under_upper.state is "midriff" or $worn.under_upper.state is "waist">>
			<<set _state to "midriff">>
		<<else>>
			<<set _state to "neck">>
		<</if>>
		<<if $leftarm isnot "bound" and $leftarm isnot "grappled" and $leftarm isnot "behind">>
			<<set _bound to "">>
		<<else>>
			<<set _bound to "bound">>
		<</if>>
		<img @class="'layer-sexunder colour-under_upper anim-idle-2f-'+_animspeed" @src="'img/sex/doggy/active/swimshirt/'+_bound+_state+'.png'" @style="($worn.under_upper.colour is 'custom' ? $worn.under_upper.colourCustom + _underUpperOpacity : '')">
	<<elseif $worn.under_upper.name is "shibari ropes">>
		<img @class="'layer-sexunder colour-under_upper anim-idle-2f-'+_animspeed" @src="'img/sex/doggy/active/shibari/'+$worn.under_upper.state+'.png'" @style="($worn.under_upper.colour is 'custom' ? $worn.under_upper.colourCustom + _underUpperOpacity : '')">
	<<elseif !$worn.under_upper.type.includes("naked")>>
		<<if $worn.under_upper.state isnot "chest" and $worn.under_upper.state isnot "midriff">>
			<img class="layer-sexunder colour-under_upper anim-idle-2f" src="img/sex/doggy/active/bikinitop/doggyactive_bikinitop_thorax.png" @style="($worn.under_upper.colour is 'custom' ? $worn.under_upper.colourCustom + _underUpperOpacity : '')">
		<<else>>
			<img class="layer-sexunder colour-under_upper anim-idle-2f" @src="'img/sex/doggy/active/bikinitop/doggyactive_bikinitop_'+$worn.under_upper.state+'.png'" @style="($worn.under_upper.colour is 'custom' ? $worn.under_upper.colourCustom + _underUpperOpacity : '')">
		<</if>>
	<</if>>

	<<if $worn.face.variable.startsWith("gag")>>
		<img @class="'layer-sexunder colour-face anim-idle-2f-'+_animspeed" src="img/sex/doggy/active/facewear/gag/full.png" @style="$worn.face.colourCustom">
		<<if $worn.face.type.includes("blindfold")>>
			<img @class="'layer-sexunder colour-face anim-idle-2f-'+_animspeed" src="img/sex/doggy/active/facewear/blindfold/full.png" @style="$worn.face.colourCustom">
		<</if>>
	<<elseif $worn.face.variable.startsWith("muzzle")>>
		<img @class="'layer-sexunder colour-face anim-idle-2f-'+_animspeed" src="img/sex/doggy/active/facewear/muzzle/full.png" @style="$worn.face.colourCustom">
	<<elseif $worn.face.name is "islander mask">>
		<img @class="'layer-sexsleeve anim-idle-2f-'+_animspeed" @src="'img/sex/doggy/active/facewear/'+$worn.face.variable+'/full.png'">
	<<elseif $worn.face.name isnot "naked">>
		<img @class="'layer-sexunder colour-face anim-idle-2f-'+_animspeed" @src="'img/sex/doggy/active/facewear/'+$worn.face.variable+'/full.png'" @style="$worn.face.colourCustom">
		<<if $worn.face.accessory is 1 && ["monocle", "gasmask", "square", "round", "punk", "coolshades", "cateye", "belly", "aviator"].includes($worn.face.variable)>>
			<img @class="'layer-sexunder colour-face_acc anim-idle-2f-'+_animspeed" @src="'img/sex/doggy/active/facewear/'+$worn.face.variable+'/acc.png'">
		<</if>>
	<</if>>

	<<if $worn.neck.name is "cow bell">>
		<img class="layer-sexunder anim-idle-2f" src="img/sex/doggy/active/cow/full.png">
	<<elseif $worn.neck.name is "necktie">>
		<img class="layer-sextiedoggy colour-neck" src="img/sex/doggy/active/tie/neck.png" style="transform: translateX(-75%);">
	<<elseif $worn.neck.name is "scarf">>
		<img class="layer-sexunder colour-neck anim-idle-2f" src="img/sex/doggy/active/scarf/full.png" @style="($worn.neck.colour is 'custom'? $worn.neck.colourCustom : '')">
	<<elseif $worn.neck.name is "gold choker">>
		<img class="layer-sexunder anim-idle-2f" src="img/sex/doggy/active/goldchoker/full.png">
	<<elseif $worn.neck.name is "cloth choker">>
		<img class="layer-sexunder colour-neck anim-idle-2f" src="img/sex/doggy/active/clothchoker/full.png" @style="($worn.neck.colour is 'custom'? $worn.neck.colourCustom : '')">
	<</if>>

	<<if $worn.hands.name isnot "naked">>
		<<if $worn.hands.leftImage is 1>>
			<<if $leftarm is "penis">>
				<img class="layer-sexunder colour-hands anim-idle-2f" @src="'img/sex/doggy/active/hands/'+$worn.hands.variable+'/left handjob.png'" @style="$worn.hands.colourCustom">
			<<elseif $leftarm is "bound">>
			<<elseif $leftarm is "grappled">>
			<<elseif $leftarm is "behind">>
			<<elseif $leftarmstate is "tentacle">>
			<<else>>
				<img class="layer-sexunder colour-hands anim-idle-2f" @src="'img/sex/doggy/active/hands/'+$worn.hands.variable+'/left hand.png'" @style="$worn.hands.colourCustom">
			<</if>>
		<</if>>
		<<if $worn.hands.rightImage is 1>>
			<<if $rightarm is "penis">>
				<img class="layer-sexBackArm colour-hands anim-idle-2f" @src="'img/sex/doggy/active/hands/'+$worn.hands.variable+'/right handjob.png'" @style="$worn.hands.colourCustom">
			<<elseif $rightarm is "bound">>
			<<elseif $rightarm is "grappled">>
			<<elseif $rightarm is "behind">>
			<<elseif $rightarmstate is "tentacle">>
			<<else>>
				<img class="layer-sexBackArm colour-hands anim-idle-2f" @src="'img/sex/doggy/active/hands/'+$worn.hands.variable+'/right hand.png'" @style="$worn.hands.colourCustom">
			<</if>>
		<</if>>
	<</if>>

	<<if $worn.feet.type.includes("heels") or ["light-up trainers"].includes($worn.feet.name)>>
		<<set _feetjob to ($feetuse is 'penis' ? 'feetjob' : 'thighs')>>
		<<if $worn.feet.colour>>
			<<set _shoeColour to $worn.feet.colourCustom>>
		<</if>>
		<<if $worn.feet.accessory_colour>>
			<<set _shoeAccColour to $worn.feet.accessory_colourCustom>>
		<</if>>
		<img class="layer-sexunder colour-feet anim-idle-2f" @src="'img/sex/doggy/active/shoes/'
		+ $worn.feet.variable + '/' + _feetjob + '.png'" @style="_shoeColour">
		<<if $worn.feet.accessory>>
			<<if $worn.feet.accessory_colour isnot 0>>
				<img class="layer-sexshoes colour-feet_acc anim-idle-2f" @src="'img/sex/doggy/active/shoes/'
				+ $worn.feet.variable + '/' + _feetjob + 'acc.png'" @style="_shoeColour">
			<<else>>
				<img class="layer-sexshoes anim-idle-2f" @src="'img/sex/doggy/active/shoes/'
				+ $worn.feet.variable + '/' + _feetjob + 'acc.png'">
			<</if>>
		<</if>>
	<</if>>

	<<if !$worn.legs.type.includes("naked")>>
		<<if $feetuse is "penis" or $feetstate is "tentacle">>
			<<set _feetjob to "feetjob">>
		<<else>>
			<<set _feetjob to "rest">>
		<</if>>
		<<if $worn.legs.state is setup.clothes.legs[clothesIndex('legs', $worn.legs)].state_base>>
			<<set _feetposition to "full">>
		<<else>>
			<<set _feetposition to "knees">>
		<</if>>
		<<if $worn.legs.colour>>
			<<set _legColour to $worn.legs.colourCustom>>
		<</if>>
		<<if $worn.legs.accessory_colour>>
			<<set _legAccColour to $worn.legs.accessory_colourCustom>>
		<</if>>

		<<if setup.clothes.legs[clothesIndex('legs', $worn.legs)].colour_combat is 0>>
			<<if setup.clothes.legs[clothesIndex('legs', $worn.legs)].state_base is "waist">>
				<img class="layer-sexlegs colour-legs anim-doggy-2f" @src="'img/sex/doggy/active/legs/'
			+ $worn.legs.variable + '/' + _feetposition + _feetjob + '.png'" @style="_legColour">
			<<elseif setup.clothes.legs[clothesIndex('legs', $worn.legs)].state_base is "ankles">>
				<img class="layer-sexlegs colour-legs anim-doggy-2f" @src="'img/sex/doggy/active/legs/'
			+ $worn.legs.variable + '/' + _feetposition + _feetjob + 'left' + '.png'" @style="_legColour">
				<img class="layer-sexskinback colour-legs anim-doggy-2f" @src="'img/sex/doggy/active/legs/'
			+ $worn.legs.variable + '/' + _feetposition + _feetjob + 'right' + '.png'" @style="_legColour">
			<<else>>
				<img class="layer-sexlegs colour-legs anim-doggy-2f" @src="'img/sex/doggy/active/legs/'
			+ $worn.legs.variable + '/' + _feetposition + _feetjob + 'left' + '.png'" @style="_legColour">
				<img class="layer-sexskinback colour-legs anim-doggy-2f" @src="'img/sex/doggy/active/legs/'
			+ $worn.legs.variable + '/' + _feetposition + _feetjob + 'right' + '.png'" @style="_legColour">
			<</if>>
		<</if>>
		<<if $worn.legs.accessory and setup.clothes.legs[clothesIndex('legs', $worn.legs)].accessory_colour_combat is 0>>
			<<if setup.clothes.legs[clothesIndex('legs', $worn.legs)].state_base is "waist">>
				<img class="layer-sexlegsacc colour-legs_acc anim-doggy-2f" @src="'img/sex/doggy/active/legs/'
				+ $worn.legs.variable + '/' + _feetposition + _feetjob + 'acc.png'" @style="_legAccColour">
			<<elseif setup.clothes.legs[clothesIndex('legs', $worn.legs)].state_base is "ankles">>
				<img class="layer-sexlegsacc colour-legs_acc anim-doggy-2f" @src="'img/sex/doggy/active/legs/'
				+ $worn.legs.variable + '/' + _feetposition + _feetjob + 'left' + 'acc.png'" @style="_legAccColour">
				<img class="layer-sexlegsbackacc colour-legs_acc anim-doggy-2f" @src="'img/sex/doggy/active/legs/'
				+ $worn.legs.variable + '/' + _feetposition + _feetjob + 'right' + 'acc.png'" @style="_legAccColour">
			<<else>>
				<img class="layer-sexlegsacc colour-legs_acc anim-doggy-2f" @src="'img/sex/doggy/active/legs/'
				+ $worn.legs.variable + '/' + _feetposition + _feetjob + 'left' + 'acc.png'" @style="_legAccColour">
				<img class="layer-sexlegsbackacc colour-legs_acc anim-doggy-2f" @src="'img/sex/doggy/active/legs/'
				+ $worn.legs.variable + '/' + _feetposition + _feetjob + 'right' + 'acc.png'" @style="_legAccColour">
			<</if>>
		<</if>>
	<</if>>

	</div>
<</widget>>

<<widget "clothesidlemissionary">>
	<<imgOpacity>>
	<<leg_position>>
	<div class="i256">

	<<if !["naked", "lolita headband", "kittycat hat", "newsboy cap", "sexy nun's veil", "sexy nun's ornate veil", "visor"].includes($worn.head.name) and !$worn.head.hood>>
		<img class="layer-sexsleeve colour-head anim-idle-2f" @src="'img/sex/missionary/active/head/'+$worn.head.variable+'/full.png'" @style="$worn.head.colourCustom">
		<<if $worn.head.accessory is 1>>
			<img class="layer-sexsleeve colour-head_acc anim-idle-2f" @src="'img/sex/missionary/active/head/'+$worn.head.variable+'/acc.png'" @style="($worn.head.accessory_colour is 'custom' ? $worn.head.accessory_colourCustom : '')">
		<</if>>
		<<if $worn.head.back_img is 1 or $worn.head.back_img is "combat">>
			<img class="layer-sexupper colour-head anim-idle-2f" @src="'img/sex/missionary/active/head/'+$worn.head.variable+'/back.png'" @style="$worn.head.colourCustom">
		<</if>>
	<</if>>

	<<if !$worn.upper.type.includes("naked") and !["gym shirt","tube top","towel top"].includes($worn.upper.name)>>
		<<if $worn.upper.name is "turtleneck" and $worn.upper.state is "chest">>

		<<elseif $player.perceived_breastsize is 0>>
			<img class="layer-sexupper colour-upper anim-idle-2f" src="img/sex/missionary/idle/breastcover/none.png" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
		<<elseif $player.perceived_breastsize lte 2>>
			<img class="layer-sexupper colour-upper anim-idle-2f" src="img/sex/missionary/idle/breastcover/tiny.png" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
		<<elseif $player.perceived_breastsize lte 4>>
			<img class="layer-sexupper colour-upper anim-idle-2f" src="img/sex/missionary/idle/breastcover/small.png" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
		<<elseif $player.perceived_breastsize lte 6>>
			<img class="layer-sexupper colour-upper anim-idle-2f" src="img/sex/missionary/idle/breastcover/large.png" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
		<<else>>
			<img class="layer-sexupper colour-upper anim-idle-2f" src="img/sex/missionary/idle/breastcover/huge.png" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
		<</if>>
	<</if>>

	<<if !$worn.under_upper.type.includes("naked") and $worn.under_upper.state_top is setup.clothes.under_upper[clothesIndex('under_upper', $worn.under_upper)].state_top_base and $worn.under_upper.name isnot "chest wrap" and $worn.under_upper.name isnot "mesh shirt" and $worn.under_upper.name isnot "tape">>
		<<if $worn.upper.name is "turtleneck" and $worn.upper.state is "midriff">>
		<<elseif $player.perceived_breastsize is 0>>
			<img class="layer-sexunder colour-under_upper anim-idle-2f" src="img/sex/missionary/idle/breastcover/none.png" @style="($worn.under_upper.colour is 'custom'? $worn.under_upper.colourCustom + _underUpperOpacity : '')">
		<<elseif $player.perceived_breastsize lte 2>>
			<img class="layer-sexunder colour-under_upper anim-idle-2f" src="img/sex/missionary/idle/breastcover/tiny.png" @style="($worn.under_upper.colour is 'custom'? $worn.under_upper.colourCustom + _underUpperOpacity : '')">
		<<elseif $player.perceived_breastsize lte 4>>
			<img class="layer-sexunder colour-under_upper anim-idle-2f" src="img/sex/missionary/idle/breastcover/small.png" @style="($worn.under_upper.colour is 'custom'? $worn.under_upper.colourCustom + _underUpperOpacity : '')">
		<<elseif $player.perceived_breastsize lte 6>>
			<img class="layer-sexunder colour-under_upper anim-idle-2f" src="img/sex/missionary/idle/breastcover/large.png" @style="($worn.under_upper.colour is 'custom'? $worn.under_upper.colourCustom + _underUpperOpacity : '')">
		<<else>>
			<img class="layer-sexunder colour-under_upper anim-idle-2f" src="img/sex/missionary/idle/breastcover/huge.png" @style="($worn.under_upper.colour is 'custom'? $worn.under_upper.colourCustom + _underUpperOpacity : '')">
		<</if>>
	<</if>>

	<<if $worn.upper.set is $worn.lower.set and setup.clothes.lower[clothesIndex('lower', $worn.lower)].skirt is 1>>
		<<set $_skirtOutfit to true>>
		<<if $worn.upper.name is "large towel">>
			<img class="layer-sexupper colour-upper anim-idle-2f" @src="'img/sex/missionary/active/largetowel/' + $worn.upper.state + '.png'" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
		<<elseif $worn.upper.state is "waist">>
			<<if $worn.lower.skirt_down is 1>>
				<<if $anususe is "penis" or _leg_position is "up">>
					<img class="layer-sexlower colour-lower anim-idle-2f" src="img/sex/missionary/idle/skirt/waist.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
				<<else>>
					<img class="layer-sexlower colour-lower anim-idle-2f" src="img/sex/missionary/idle/skirt/down.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
				<</if>>
			<<elseif $worn.lower.skirt_down is 0>>
				<img class="layer-sexlower colour-lower anim-idle-2f" src="img/sex/missionary/idle/skirt/hips.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
			<</if>>
			<img class="layer-sexupper colour-upper anim-idle-2f" src="img/sex/missionary/idle/top/waist.png" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
		<<elseif $worn.upper.state is "midriff">>
			<img class="layer-sexlower colour-lower anim-idle-2f" src="img/sex/missionary/idle/skirt/tummy.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
			<img class="layer-sexupper colour-upper anim-idle-2f" src="img/sex/missionary/idle/top/tummy.png" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
		<<elseif $worn.upper.state is "chest">>
			<img class="layer-sexlower colour-lower anim-idle-2f" src="img/sex/missionary/idle/skirt/neck.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
			<img class="layer-sexupper colour-upper anim-idle-2f" src="img/sex/missionary/idle/top/neck.png" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
		<<else>>
			<<if $anususe is "penis" or _leg_position is "up">>
				<img class="layer-sexlower colour-lower anim-idle-2f" src="img/sex/missionary/idle/skirt/tummy.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
			<<else>>
				<img class="layer-sexlower colour-lower anim-idle-2f" src="img/sex/missionary/idle/skirt/ankledown.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
			<</if>>
		<</if>>

		<<if $leftarm is "penis" or $leftarmstate is "tentacle">>

		<</if>>
		<<if $rightarm is "penis" or $rightarmstate is "tentacle">>

		<</if>>
	<</if>>

	<<if $worn.upper.name is "tie-front top">>
		<<if $worn.upper.state is "waist">>
			<<switch $player.perceived_breastsize>>
				<<case 8 9 10 11 12>>
					<img class="layer-sexbasefront colour-upper anim-idle-2f" src="img/sex/missionary/active/tiefronttop/huge.png"
					@style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
				<<case 5 6 7>>
					<img class="layer-sexbasefront colour-upper anim-idle-2f" src="img/sex/missionary/active/tiefronttop/large.png"
					@style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
				<<case 3 4>>
					<img class="layer-sexbasefront colour-upper anim-idle-2f" src="img/sex/missionary/active/tiefronttop/small.png"
					@style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
				<<case 1 2>>
					<img class="layer-sexbasefront colour-upper anim-idle-2f" src="img/sex/missionary/active/tiefronttop/tiny.png"
					@style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
				<<case 0>>
					<img class="layer-sexbasefront colour-upper anim-idle-2f" src="img/sex/missionary/active/tiefronttop/none.png"
					@style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
			<</switch>>
		<</if>>

	<<elseif $worn.upper.name is "gym shirt">>
		<<if $worn.upper.state is "waist">>
			<img class="layer-sexupper colour-upper anim-idle-2f" src="img/sex/missionary/active/gymshirt/waist.png" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
		<<elseif $worn.upper.state is "midriff">>
			<img class="layer-sexupper colour-upper anim-idle-2f" src="img/sex/missionary/active/gymshirt/tummy.png" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
		<<elseif $worn.upper.state is "chest">>
			<img class="layer-sexupper colour-upper anim-idle-2f" src="img/sex/missionary/active/gymshirt/neck.png" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
		<</if>>
		<<if $player.perceived_breastsize is 0>>
			<img class="layer-sexupper colour-upper anim-idle-2f" src="img/sex/missionary/active/gymshirt/none.png" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
		<<elseif $player.perceived_breastsize lte 2>>
			<img class="layer-sexupper colour-upper anim-idle-2f" src="img/sex/missionary/active/gymshirt/tiny.png" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
		<<elseif $player.perceived_breastsize lte 4>>
			<img class="layer-sexupper colour-upper anim-idle-2f" src="img/sex/missionary/active/gymshirt/small.png" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
		<<elseif $player.perceived_breastsize lte 6>>
			<img class="layer-sexupper colour-upper anim-idle-2f" src="img/sex/missionary/active/gymshirt/large.png" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
		<<else>>
			<img class="layer-sexupper colour-upper anim-idle-2f" src="img/sex/missionary/active/gymshirt/huge.png" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
		<</if>>
	<<elseif $worn.upper.name is "rag top">>
		<<if $player.perceived_breastsize is 0>>
			<<set _tit = "none">>
		<<elseif $player.perceived_breastsize lte 2>>
			<<set _tit = "tiny">>
		<<elseif $player.perceived_breastsize lte 4>>
			<<set _tit = "small">>
		<<elseif $player.perceived_breastsize lte 6>>
			<<set _tit = "large">>
		<<else>>
			<<set _tit = "huge">>
		<</if>>
		<img class="layer-sexupper colour-upper anim-idle-2f" @src="'img/sex/missionary/active/ragtop/'+_tit+'.png'">
	<<elseif $worn.upper.name is "virgin killer">>
		<img class="layer-sexupper colour-upper anim-idle-2f-" @src="'img/sex/missionary/active/virginkiller/' + $worn.upper.state + '.png'" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
	<<elseif $worn.upper.name is "sweater" or $worn.upper.name is "girl's sweater">>
		<img class="layer-sexupper colour-upper anim-idle-2f" @src="'img/sex/missionary/active/sweater/' + $worn.upper.state + '.png'" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
	<<elseif $worn.upper.name is "cable knit turtleneck" or $worn.upper.name is "turtleneck jumper">>
		<img class="layer-sexupper colour-upper anim-idle-2f" @src="'img/sex/missionary/active/long turtleneck/' + $worn.upper.state + '.png'" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
	<<elseif $worn.upper.name is "turtleneck">>
		<img class="layer-sexupper colour-upper anim-idle-2f" @src="'img/sex/missionary/active/turtleneck/' + $worn.upper.state + ($worn.upper.state is 'chest' and $player.perceived_breastsize >= 8 ? '_huge' : '') + '.png'" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
	<<elseif $worn.upper.name is "tube top" or $worn.upper.name is "towel top">>
		<<if $worn.upper.state_top is "chest">>
			<<if $player.perceived_breastsize is 0>>
				<<set _tubeimg = "none">>
			<<elseif $player.perceived_breastsize lte 2>>
				<<set _tubeimg = "tiny">>
			<<elseif $player.perceived_breastsize lte 4>>
				<<set _tubeimg = "small">>
			<<elseif $player.perceived_breastsize lte 6>>
				<<set _tubeimg = "large">>
			<<else>>
				<<set _tubeimg = "huge">>
			<</if>>
			<<set _anim = "">>
		<<else>>
			<<set _tubeimg = $worn.upper.state_top>>
			<<set _anim = " anim-idle-2f">>
		<</if>>
		<<if ($anususe is "penis" or _leg_position is "up") and ["ankles","knees","thighs"].includes(_tubeimg)>>
			<<set _tubeimg += "up">>
		<</if>>
		<img @class="'layer-sexupper colour-upper'+_anim" @src="'img/sex/missionary/active/tubetop/'+_tubeimg+'.png'" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">

	<<elseif !$worn.upper.type.includes("naked") and !$_skirtOutfit>>
		<<if $worn.upper.state is "waist">>
			<img class="layer-sexupper colour-upper anim-idle-2f" src="img/sex/missionary/idle/top/waist.png" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
		<<elseif $worn.upper.state is "midriff">>
			<img class="layer-sexupper colour-upper anim-idle-2f" src="img/sex/missionary/idle/top/tummy.png" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
		<<elseif $worn.upper.state is "chest">>
			<img class="layer-sexupper colour-upper anim-idle-2f" src="img/sex/missionary/idle/top/neck.png" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
		<</if>>
	<</if>>

	<<if setup.clothes.upper[clothesIndex('upper', $worn.upper)].sleeve_img is 1 and $worn.upper.name isnot "t-shirt">>
		<<if $worn.upper.name is "turtleneck">>
			<<set _sleeves to "turtleneck">>
		<<elseif $worn.upper.name is "sweater" or $worn.upper.name is "girl's sweater" or $worn.upper.name is "cable knit turtleneck" or $worn.upper.name is "turtleneck jumper">>
			<<set _sleeves to "sweatersleeves">>
		<<else>>
			<<set _sleeves to "sleeves">>
		<</if>>
		<<if ($leftarm is "bound" or $leftarm is "grappled" or $leftarm is "behind") and ($rightarm is "bound" or $rightarm is "grappled" or $rightarm is "behind")>>
			<img @class="'layer-sexsleeve colour-upper anim-doggy-2f-'+_animspeed" @src="'img/sex/missionary/active/' + _sleeves + '/both_sleeves_bound.png'" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
		<<else>>
			<<if $leftarm is "penis" or $leftarmstate is "tentacle">>
				<img @class="'layer-sexsleeveback colour-upper anim-doggy-2f-'+_animspeed" @src="'img/sex/missionary/active/' + _sleeves + '/left_sleeve_handjob.png'" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
			<</if>>
			<<if $rightarm is "penis" or $rightarmstate is "tentacle">>
				<img @class="'layer-sexsleeve colour-upper anim-doggy-2f-'+_animspeed" @src="'img/sex/missionary/active/' + _sleeves + '/right_sleeve_handjob.png'" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
			<<elseif ($rightarm is "bound" or $rightarm is "grappled" or $rightarm is "behind") and $leftarm isnot "bound" and $leftarm isnot "grappled" and $leftarm isnot "behind">>
				<img @class="'layer-sexsleeve colour-upper anim-doggy-2f-'+_animspeed" @src="'img/sex/missionary/active/' + _sleeves + '/right_sleeve_bound.png'" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
			<<elseif $enemytype is "beast" and $monster isnot 1 and _stanceCheck is "top" and $leftarm isnot "bound" and $leftarm isnot "grappled" and $leftarm isnot "behind">>
				<img @class="'layer-sexsleeve colour-upper anim-doggy-2f-'+_animspeed" @src="'img/sex/missionary/active/' + _sleeves + '/right_sleeve_stroke.png'" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
			<<else>>
				<img @class="'layer-sexsleeve colour-upper anim-doggy-2f-'+_animspeed" @src="'img/sex/missionary/active/' + _sleeves + '/right_sleeve.png'" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
			<</if>>
		<</if>>
	<</if>>


	<<if $feetuse is "penis" or $feetstate is "tentacle">>
		<<set _feet_pos to "_feetjob">>
	<<elseif _leg_position is "up">>
		<<set _feet_pos to "_up">>
	<<else>>
		<<set _feet_pos to "_down">>
	<</if>>

	<<if $worn.lower.name is "micro pleated skirt" and $debug is 1>>
		<<switch $worn.lower.state>>
			<<case "waist">>
				<<if $worn.lower.skirt_down is 0>>
					<img class="layer-sexlower colour-lower anim-idle-2f" src="img/sex/missionary/active/micropleatedskirt/waist.png"
					@style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
				<<else>>
					<img class="layer-sexlower colour-lower anim-idle-2f" src="img/sex/missionary/active/micropleatedskirt/tummy.png"
					@style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
				<</if>>
			<<case "thighs">>
				<img class="layer-sexlower colour-lower anim-idle-2f" src="img/sex/missionary/active/micropleatedskirt/thighs.png"
				@style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
			<<case "knees">>
				<img class="layer-sexlower colour-lower anim-idle-2f" src="img/sex/missionary/active/micropleatedskirt/knees.png"
				@style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
			<<case "ankles">>
				<img class="layer-sexlower colour-lower anim-idle-2f" src="img/sex/missionary/active/micropleatedskirt/ankles.png"
				@style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
			<<case "midriff">>
				<img class="layer-sexlower colour-lower anim-idle-2f" src="img/sex/missionary/active/micropleatedskirt/tummy.png"
				@style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
		<</switch>>
	<<elseif $worn.lower.name is "rag skirt">>
		<<switch $worn.lower.state>>
			<<case "waist">>
				<<if $worn.lower.skirt_down is 0>>
					<img class="layer-sexlower colour-lower anim-idle-2f" src="img/sex/missionary/active/ragskirt/waist.png"
					@style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
				<<else>>
					<img class="layer-sexlower colour-lower anim-idle-2f" src="img/sex/missionary/active/ragskirt/hips.png"
					@style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
				<</if>>
			<<case "thighs">>
				<img class="layer-sexlower colour-lower anim-idle-2f" src="img/sex/missionary/active/ragskirt/thighs.png"
				@style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
			<<case "knees">>
				<img class="layer-sexlower colour-lower anim-idle-2f" src="img/sex/missionary/active/ragskirt/knees.png"
				@style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
			<<case "ankles">>
				<img class="layer-sexlower colour-lower anim-idle-2f" src="img/sex/missionary/active/ragskirt/anklesdown.png"
				@style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
			<<case "midriff">>
				<img class="layer-sexlower colour-lower anim-idle-2f" src="img/sex/missionary/active/ragskirt/tummy.png"
				@style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
		<</switch>>	<<elseif $worn.lower.name is "gym bloomers">>
	<<elseif $worn.lower.name is "gym bloomers">>
		<<if $worn.lower.state is "waist">>
			<<if $anususe is "penis" or _leg_position is "up">>
				<img class="layer-sexlower colour-lower anim-idle-2f" src="img/sex/missionary/active/gymbloomers/waist.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
			<<else>>
				<img class="layer-sexlower colour-lower anim-idle-2f" src="img/sex/missionary/active/gymbloomers/waistdown.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
			<</if>>
		<<else>>
			<<if $anususe is "penis" or _leg_position is "up">>
				<img class="layer-sexlower colour-lower anim-idle-2f" src="img/sex/missionary/active/gymbloomers/ankle.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
			<<else>>
				<img class="layer-sexlower colour-lower anim-idle-2f" src="img/sex/missionary/active/gymbloomers/ankledown.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
			<</if>>
		<</if>>
	<<elseif $worn.lower.name is "denim shorts">>
		<img class="layer-sexlower anim-idle-2f" @src="'img/sex/missionary/active/denimshorts/' + $worn.lower.state + _feet_pos + '.png'">
	<<elseif $worn.lower.name is "booty jorts">>
		<img class="layer-sexlower anim-idle-2f" @src="'img/sex/missionary/active/bootyjorts/' + $worn.lower.state + _feet_pos + '.png'">
	<<elseif !$worn.lower.type.includes("naked") and $worn.upper.set isnot $worn.lower.set and setup.clothes.lower[clothesIndex('lower', $worn.lower)].skirt is 1>>
		<<if setup.clothes.lower[clothesIndex('lower', $worn.lower)].short is 1>>
			<<if $worn.lower.state is "waist">>
				<<if $worn.lower.skirt_down is 1>>
					<<if $anususe is "penis" or _leg_position is "up">>
						<img class="layer-sexlower colour-lower anim-idle-2f" src="img/sex/missionary/idle/skirt/hips.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
					<<else>>
						<img class="layer-sexlower colour-lower anim-idle-2f" src="img/sex/missionary/idle/skirt/down.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
					<</if>>
				<<elseif $worn.lower.skirt_down is 0>>
					<img class="layer-sexlower colour-lower anim-idle-2f" src="img/sex/missionary/idle/skirt/hips.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
				<</if>>
			<<elseif $worn.lower.state is "midriff">>
				<img class="layer-sexlower colour-lower anim-idle-2f" src="img/sex/missionary/idle/skirt/tummy.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
			<<elseif $worn.lower.state is "chest">>
				<img class="layer-sexlower colour-lower anim-idle-2f" src="img/sex/missionary/idle/skirt/neck.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
			<<else>>
				<<if $anususe is "penis" or _leg_position is "up">>
					<img class="layer-sexlower colour-lower anim-idle-2f" src="img/sex/missionary/idle/skirt/tummy.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
				<<else>>
					<img class="layer-sexlower colour-lower anim-idle-2f" src="img/sex/missionary/idle/skirt/ankledown.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
				<</if>>
			<</if>>
		<<else>>
			<img class="layer-sexlower colour-lower anim-idle-2f" @src="'img/sex/missionary/active/longskirt/' + $worn.lower.state + _feet_pos + '.png'" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
		<</if>>
	<<elseif !$worn.lower.type.includes("naked") and !$_skirtOutfit>>
		<<if $worn.lower.name is "jeans">>
			<img class="layer-sexlower anim-idle-2f" @src="'img/sex/missionary/active/jeans/' + $worn.lower.state + _feet_pos + '.png'">
		<<elseif setup.clothes.lower[clothesIndex('lower', $worn.lower)].short is 1>>
			<img class="layer-sexlower colour-lower anim-idle-2f" @src="'img/sex/missionary/active/shorts/' + $worn.lower.state + _feet_pos + '.png'" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
		<<else>>
			<img class="layer-sexlower colour-lower anim-idle-2f" @src="'img/sex/missionary/active/trousers/' + $worn.lower.state + _feet_pos + '.png'" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
		<</if>>
	<</if>>

	<<if $worn.under_lower.name is "thong" or $worn.under_lower.name is "microkini bottom">>
		<<if $worn.under_lower.state is "waist" or $worn.under_lower.state is "totheside">>
			<<if $anususe is "penis" or _leg_position is "up">>
			<img class="layer-sexunder colour-under_lower anim-idle-2f" src="img/sex/missionary/active/thong/waist.png" @style="($worn.under_lower.colour is 'custom'? $worn.under_lower.colourCustom + _underLowerOpacity : '')">
			<<else>>
			<img class="layer-sexunder colour-under_lower anim-idle-2f" src="img/sex/missionary/idle/thong/waistdown.png" @style="($worn.under_lower.colour is 'custom'? $worn.under_lower.colourCustom + _underLowerOpacity : '')">
			<</if>>
		<<else>>
			<<if $anususe is "penis" or $vaginause is "penis" or _leg_position is "up">>
			<img class="layer-sexunder colour-under_lower anim-idle-2f" src="img/sex/missionary/active/thong/ankle.png" @style="($worn.under_lower.colour is 'custom'? $worn.under_lower.colourCustom + _underLowerOpacity : '')">
			<<else>>
			<img class="layer-sexunder colour-under_lower anim-idle-2f" src="img/sex/missionary/active/thong/ankledown.png" @style="($worn.under_lower.colour is 'custom'? $worn.under_lower.colourCustom + _underLowerOpacity : '')">
			<</if>>
		<</if>>
	<<elseif $worn.under_lower.name is "highwaisted microkini bottom">>
		<<if $worn.under_lower.state is "waist" or $worn.under_lower.state is "totheside">>
			<<if $anususe is "penis" or _leg_position is "up">>
			<img class="layer-sexunder colour-under_lower anim-idle-2f" src="img/sex/missionary/active/under_lower/highmicrokini/waist.png" @style="($worn.under_lower.colour is 'custom'? $worn.under_lower.colourCustom + _underLowerOpacity : '')">
			<<else>>
			<img class="layer-sexunder colour-under_lower anim-idle-2f" src="img/sex/missionary/active/under_lower/highmicrokini/waistdown.png" @style="($worn.under_lower.colour is 'custom'? $worn.under_lower.colourCustom + _underLowerOpacity : '')">
			<</if>>
		<<else>>
			<<if $anususe is "penis" or $vaginause is "penis" or _leg_position is "up">>
			<img class="layer-sexunder colour-under_lower anim-idle-2f" src="img/sex/missionary/active/under_lower/highmicrokini/ankle.png" @style="($worn.under_lower.colour is 'custom'? $worn.under_lower.colourCustom + _underLowerOpacity : '')">
			<<else>>
			<img class="layer-sexunder colour-under_lower anim-idle-2f" src="img/sex/missionary/active/under_lower/highmicrokini/ankledown.png" @style="($worn.under_lower.colour is 'custom'? $worn.under_lower.colourCustom + _underLowerOpacity : '')">
			<</if>>
		<</if>>
	<<elseif $worn.under_lower.name is "cow panties">>
		<img class="layer-sexunder colour-under_lower anim-doggy-2f" src="img/sex/missionary/active/cowpanties/waist.png">
	<<elseif $worn.under_lower.type.includes("strap-on") and $worn.lower.vagina_exposed is 1 >>
		<img class="layer-sexunder colour-under_lower anim-idle-2f"
		@src="'img/sex/missionary/active/strapon/' + $worn.under_lower.state + '.png'" @style="($worn.under_lower.colour is 'custom'? $worn.under_lower.colourCustom + _underLowerOpacity : '')">
	<<elseif !$worn.under_lower.type.includes("naked")>>
		<<if $worn.under_lower.state is "waist" or $worn.under_lower.state is "totheside">>
			<<if $anususe is "penis" or _leg_position is "up">>
			<img class="layer-sexunder colour-under_lower anim-idle-2f" src="img/sex/missionary/idle/panties/waist.png" @style="($worn.under_lower.colour is 'custom'? $worn.under_lower.colourCustom + _underLowerOpacity : '')">
			<<else>>
			<img class="layer-sexunder colour-under_lower anim-idle-2f" src="img/sex/missionary/idle/panties/waistdown.png" @style="($worn.under_lower.colour is 'custom'? $worn.under_lower.colourCustom + _underLowerOpacity : '')">
			<</if>>
		<<else>>
			<<if $anususe is "penis" or $vaginause is "penis" or _leg_position is "up">>
			<img class="layer-sexunder colour-under_lower anim-idle-2f" src="img/sex/missionary/idle/panties/ankle.png" @style="($worn.under_lower.colour is 'custom'? $worn.under_lower.colourCustom + _underLowerOpacity : '')">
			<<else>>
			<img class="layer-sexunder colour-under_lower anim-idle-2f" src="img/sex/missionary/idle/panties/ankledown.png" @style="($worn.under_lower.colour is 'custom'? $worn.under_lower.colourCustom + _underLowerOpacity : '')">
			<</if>>
		<</if>>
	<</if>>

	<<if $worn.under_upper.name is "chest wrap" and $worn.under_upper.exposed is 0>>
		<<if $player.perceived_breastsize is 0>>
			<img class="layer-sexunder colour-under_upper anim-idle-2f" src="img/sex/missionary/active/chestwrap/none.png" @style="($worn.under_upper.colour is 'custom'? $worn.under_upper.colourCustom + _underUpperOpacity : '')">
		<<elseif $player.perceived_breastsize is 1 or $player.perceived_breastsize is 2>>
			<img class="layer-sexunder colour-under_upper anim-idle-2f" src="img/sex/missionary/active/chestwrap/tiny.png" @style="($worn.under_upper.colour is 'custom'? $worn.under_upper.colourCustom + _underUpperOpacity : '')">
		<<elseif $player.perceived_breastsize is 3 or $player.perceived_breastsize is 4>>
			<img class="layer-sexunder colour-under_upper anim-idle-2f" src="img/sex/missionary/active/chestwrap/small.png" @style="($worn.under_upper.colour is 'custom'? $worn.under_upper.colourCustom + _underUpperOpacity : '')">
		<<elseif $player.perceived_breastsize gte 5 and $player.perceived_breastsize lte 7>>
			<img class="layer-sexunder colour-under_upper anim-idle-2f" src="img/sex/missionary/active/chestwrap/large.png" @style="($worn.under_upper.colour is 'custom'? $worn.under_upper.colourCustom + _underUpperOpacity : '')">
		<<elseif $player.perceived_breastsize gte 8 and $player.perceived_breastsize lte 12>>
			<img class="layer-sexunder colour-under_upper anim-idle-2f" src="img/sex/missionary/active/chestwrap/huge.png" @style="($worn.under_upper.colour is 'custom'? $worn.under_upper.colourCustom + _underUpperOpacity : '')">
		<</if>>
	<<elseif $worn.under_upper.name is "tape">>
		<<if $player.perceived_breastsize is 0>>
			<<set _size to "none">>
		<<elseif $player.perceived_breastsize is 1 or $player.perceived_breastsize is 2>>
			<<set _size to "tiny">>
		<<elseif $player.perceived_breastsize is 3 or $player.perceived_breastsize is 4>>
			<<set _size to "small">>
		<<elseif $player.perceived_breastsize gte 5 and $player.perceived_breastsize lte 7>>
			<<set _size to "large">>
		<<elseif $player.perceived_breastsize gte 8 and $player.perceived_breastsize lte 12>>
			<<set _size to "huge">>
		<</if>>
		<img @class="'layer-sexunder colour-under_upper'" @src="'img/sex/missionary/active/tape/'+_size+'.png'" @style="($worn.under_upper.colour is 'custom' ? $worn.under_upper.colourCustom + _underUpperOpacity : '')">
	<<elseif $worn.under_upper.name is "mesh shirt">>
		<<if $worn.under_upper.state is "midriff">>
			<<set _state to "midriff">>
		<<else>>
			<<set _state to "neck">>
		<</if>>
		<img @class="'layer-sexunder colour-under_upper anim-idle-2f'" @src="'img/sex/missionary/active/mesh/'+_state+'.png'" @style="($worn.under_upper.colour is 'custom' ? $worn.under_upper.colourCustom + _upperOpacity : '')">

		<<if $worn.under_upper.exposed is 0>>
			<<if $player.perceived_breastsize is 0>>
				<<set _size to "none">>
			<<elseif $player.perceived_breastsize is 1 or $player.perceived_breastsize is 2>>
				<<set _size to "tiny">>
			<<elseif $player.perceived_breastsize is 3 or $player.perceived_breastsize is 4>>
				<<set _size to "small">>
			<<elseif $player.perceived_breastsize gte 5 and $player.perceived_breastsize lte 7>>
				<<set _size to "large">>
			<<elseif $player.perceived_breastsize gte 8 and $player.perceived_breastsize lte 12>>
				<<set _size to "huge">>
			<</if>>
			<img @class="'layer-sexunder colour-under_upper'" @src="'img/sex/missionary/active/mesh/'+_size+'.png'" @style="($worn.under_upper.colour is 'custom' ? $worn.under_upper.colourCustom + _underUpperOpacity : '')">
		<</if>>
	<<elseif $worn.under_upper.name is "cow bra">>
		<<if $worn.upper.state_top is "chest">>
			<<if $player.perceived_breastsize is 0>>
				<<set _tit = "none">>
			<<elseif $player.perceived_breastsize lte 2>>
				<<set _tit = "tiny">>
			<<elseif $player.perceived_breastsize lte 4>>
				<<set _tit = "small">>
			<<elseif $player.perceived_breastsize lte 6>>
				<<set _tit = "large">>
			<<else>>
				<<set _tit = "huge">>
			<</if>>
		<</if>>
		<img class="layer-sexunder colour-under_upper anim-idle-2f" @src="'img/sex/missionary/active/cowbra/'+_tit+'.png'">

	<<elseif $worn.under_upper.name is "swim shirt">>
		<<if $worn.under_upper.state is "waist">>
			<<set _state to "waist">>
		<<elseif $worn.under_upper.state is "midriff">>
			<<set _state to "midriff">>
		<<else>>
			<<set _state to "chest">>
		<</if>>
		<img class="layer-sexunder colour-under_upper anim-idle-2f" @src="'img/sex/missionary/active/swimshirt/'+_state+'.png'" @style="($worn.under_upper.colour is 'custom' ? $worn.under_upper.colourCustom + _underUpperOpacity : '')">

	<<elseif $worn.under_upper.name is "shibari ropes">>
		<img class="layer-sexunder colour-under_upper anim-idle-2f" @src="'img/sex/missionary/active/shibari/'+$worn.under_upper.state+'.png'" @style="($worn.under_upper.colour is 'custom' ? $worn.under_upper.colourCustom + _underUpperOpacity : '')">

	<<elseif !$worn.under_upper.type.includes("naked")>>
		<img class="layer-sexskin colour-under_upper anim-idle-2f" src="img/sex/missionary/idle/bra/bra.png" @style="($worn.under_upper.colour is 'custom'? $worn.under_upper.colourCustom + _underUpperOpacity : '')">
	<</if>>

	<<if $worn.face.variable.startsWith("gag")>>
		<img class="layer-sexunder colour-face anim-idle-2f" src="img/sex/missionary/active/facewear/gag/full.png" @style="$worn.face.colourCustom">
		<<if $worn.face.type.includes("blindfold")>>
			<img class="layer-sexunder colour-face anim-idle-2f" src="img/sex/missionary/active/facewear/blindfold/full.png" @style="$worn.face.colourCustom">
		<</if>>
	<<elseif $worn.face.variable.startsWith("muzzle")>>
		<img class="layer-sexunder colour-face anim-idle-2f" src="img/sex/missionary/active/facewear/muzzle/full.png" @style="$worn.face.colourCustom">
	<<elseif $worn.face.name is "islander mask">>
		<img class="layer-sexsleeve anim-idle-2f" @src="'img/sex/missionary/active/facewear/'+$worn.face.variable+'/full.png'">
	<<elseif $worn.face.name isnot "naked">>
		<img class="layer-sexunder colour-face anim-idle-2f" @src="'img/sex/missionary/active/facewear/'+$worn.face.variable+'/full.png'" @style="$worn.face.colourCustom">
		<<if $worn.face.accessory is 1 && ["monocle", "gasmask", "square", "round", "punk", "coolshades", "cateye", "belly", "aviator"].includes($worn.face.variable)>>
			<img class="layer-sexunder colour-face_acc anim-idle-2f" @src="'img/sex/missionary/active/facewear/'+$worn.face.variable+'/acc.png'">
		<</if>>
	<</if>>

	<<if $worn.neck.name is "cow bell">>
		<img class="layer-sexunder anim-idle-2f" src="img/sex/missionary/active/cow/full.png">
	<<elseif $worn.neck.name is "necktie">>
		<img class="layer-sextiemissionary colour-neck" src="img/sex/missionary/active/tie/neck.png">
	<<elseif $worn.neck.name is "scarf">>
		<img class="layer-sexunder colour-neck anim-idle-2f" src="img/sex/missionary/active/scarf/full.png" @style="($worn.neck.colour is 'custom'? $worn.neck.colourCustom : '')">
	<<elseif $worn.neck.name is "gold choker">>
		<img class="layer-sexunder anim-idle-2f" src="img/sex/missionary/active/goldchoker/full.png">
	<<elseif $worn.neck.name is "cloth choker">>
		<img class="layer-sexunder colour-neck anim-idle-2f" src="img/sex/missionary/active/clothchoker/full.png" @style="($worn.neck.colour is 'custom'? $worn.neck.colourCustom : '')">
	<</if>>

	<<if $worn.hands.name isnot "naked">>
		<<if $worn.hands.leftImage is 1>>
			<<if $leftarm is "penis">>
				<img class="layer-sexunder colour-hands anim-idle-2f" @src="'img/sex/missionary/active/hands/'+$worn.hands.variable+'/left handjob.png'" @style="$worn.hands.colourCustom">
			<<elseif $leftarm is "bound">>
			<<elseif $leftarm is "grappled">>
			<<elseif $leftarm is "behind">>
			<<elseif $leftarmstate is "tentacle">>
			<<else>>
			<</if>>
		<</if>>
		<<if $worn.hands.rightImage is 1>>
			<<if $rightarm is "penis">>
				<img class="layer-sexhands colour-hands anim-idle-2f" @src="'img/sex/missionary/active/hands/'+$worn.hands.variable+'/right handjob.png'" @style="$worn.hands.colourCustom">
			<<elseif $rightarm is "bound">>
			<<elseif $rightarm is "grappled">>
			<<elseif $rightarm is "behind">>
			<<elseif $rightarmstate is "tentacle">>
			<<else>>
				<img class="layer-sexhands colour-hands anim-idle-2f" @src="'img/sex/missionary/active/hands/'+$worn.hands.variable+'/right arm.png'" @style="$worn.hands.colourCustom">
			<</if>>
		<</if>>
	<</if>>

	<<if $worn.feet.type.includes("heels") or ["light-up trainers", "ankle cuffs", "ball and chain"].includes($worn.feet.name)>>
		<<set _legl to ((_leg_position is "up") ? 'legl' : 'legldown')>>
		<<set _legr to ((_leg_position is "up") ? 'legr' : 'legrdown')>>
		<<if $worn.feet.colour>>
			<<set _shoeColour to $worn.feet.colourCustom>>
		<</if>>
		<<if $worn.feet.accessory_colour>>
			<<set _shoeAccColour to $worn.feet.accessory_colourCustom>>
		<</if>>
		<img class="layer-sexbaseoverlay colour-feet" @src="'img/sex/missionary/active/shoes/'
		+ $worn.feet.variable + '/' + _legl + '.png'" @style="_shoeColour">
		<img class="layer-sexunder colour-feet" @src="'img/sex/missionary/active/shoes/'
		+ $worn.feet.variable + '/' + _legr + '.png'" @style="_shoeColour">
		<<if $worn.feet.accessory>>
			<<if $worn.feet.accessory_colour isnot 0>>
				<img class="layer-sexbaseoverlay colour-feet_acc" @src="'img/sex/missionary/active/shoes/'
				+ $worn.feet.variable + '/' + _legl + 'acc.png'" @style="_shoeAccColour">
				<img class="layer-sexshoes colour-feet_acc" @src="'img/sex/missionary/active/shoes/'
				+ $worn.feet.variable + '/' + _legr + 'acc.png'" @style="_shoeAccColour">
			<<else>>
				<img class="layer-sexbaseoverlay" @src="'img/sex/missionary/active/shoes/'
				+ $worn.feet.variable + '/' + _legl + 'acc.png'">
				<img class="layer-sexshoes" @src="'img/sex/missionary/active/shoes/'
				+ $worn.feet.variable + '/' + _legr + 'acc.png'">
			<</if>>
		<</if>>

		<<if $worn.feet.name is "ankle cuffs">>
			<<if _leg_position is "up">>
				<img class="layer-sexbaseoverlay" @src="'img/sex/missionary/active/shoes/anklecuffs/acc_both_up.png'">
			<<else>>
				<img class="layer-sexbaseoverlay" @src="'img/sex/missionary/active/shoes/anklecuffs/acc_both_down.png'">
			<</if>>
		<</if>>
	<</if>>

	<<if !$worn.legs.type.includes("naked")>>
		<<if $feetuse is "penis" or $feetstate is "tentacle">>
			<<set _feetjob to "feetjob">>
		<<elseif _leg_position is "up">>
			<<set _feetjob to "up">>
		<<else>>
			<<set _feetjob to "down">>
		<</if>>
		<<if $worn.legs.state is setup.clothes.legs[clothesIndex('legs', $worn.legs)].state_base>>
			<<set _feetposition to "full">>
		<<else>>
			<<set _feetposition to "knees">>
		<</if>>
		<<if $worn.legs.colour>>
			<<set _legColour to $worn.legs.colourCustom>>
		<</if>>
		<<if $worn.legs.accessory_colour>>
			<<set _legAccColour to $worn.legs.accessory_colourCustom>>
		<</if>>

		<<if setup.clothes.legs[clothesIndex('legs', $worn.legs)].colour_combat is 0>>
			<<if setup.clothes.legs[clothesIndex('legs', $worn.legs)].state_base is "waist">>
				<img class="layer-sexlegs colour-legs anim-missionary-2f" @src="'img/sex/missionary/active/legs/'
			+ $worn.legs.variable + '/' + _feetposition + _feetjob + '.png'" @style="_legColour">
			<<elseif setup.clothes.legs[clothesIndex('legs', $worn.legs)].state_base is "ankles">>
				<<if _feetjob is "feetjob">>
					<img class="layer-sexlegs colour-legs anim-missionary-2f" @src="'img/sex/missionary/active/legs/'
				+ $worn.legs.variable + '/' + _feetposition + _feetjob + '.png'" @style="_legColour">
				<<else>>
					<img class="layer-sexlegsback colour-legs anim-missionary-2f" @src="'img/sex/missionary/active/legs/'
				+ $worn.legs.variable + '/' + _feetposition + _feetjob + 'left' + '.png'" @style="_legColour">
					<img class="layer-sexlegs colour-legs anim-missionary-2f" @src="'img/sex/missionary/active/legs/'
				+ $worn.legs.variable + '/' + _feetposition + _feetjob + 'right' + '.png'" @style="_legColour">
				<</if>>
			<<else>>
				<<if _feetjob is "feetjob">>
					<img class="layer-sexlegs colour-legs anim-missionary-2f" @src="'img/sex/missionary/active/legs/'
				+ $worn.legs.variable + '/' + _feetposition + _feetjob + '.png'" @style="_legColour">
				<<else>>
					<img class="layer-sexlegsback colour-legs anim-missionary-2f" @src="'img/sex/missionary/active/legs/'
				+ $worn.legs.variable + '/' + _feetposition + _feetjob + 'left' + '.png'" @style="_legColour">
					<img class="layer-sexlegs colour-legs anim-missionary-2f" @src="'img/sex/missionary/active/legs/'
				+ $worn.legs.variable + '/' + _feetposition + _feetjob + 'right' + '.png'" @style="_legColour">
				<</if>>
			<</if>>
		<</if>>
		<<if $worn.legs.accessory and setup.clothes.legs[clothesIndex('legs', $worn.legs)].accessory_colour_combat is 0>>
			<<if setup.clothes.legs[clothesIndex('legs', $worn.legs)].state_base is "waist">>
				<img class="layer-sexlegsbackacc colour-legs_acc anim-missionary-2f" @src="'img/sex/missionary/active/legs/'
				+ $worn.legs.variable + '/' + _feetposition + _feetjob + 'acc.png'" @style="_legAccColour">
			<<elseif setup.clothes.legs[clothesIndex('legs', $worn.legs)].state_base is "ankles">>
				<img class="layer-sexlegsbackacc colour-legs_acc anim-missionary-2f" @src="'img/sex/missionary/active/legs/'
				+ $worn.legs.variable + '/' + _feetposition + _feetjob + 'left' + 'acc.png'" @style="_legAccColour">
				<img class="layer-sexlegsacc colour-legs_acc anim-missionary-2f" @src="'img/sex/missionary/active/legs/'
				+ $worn.legs.variable + '/' + _feetposition + _feetjob + 'right' + 'acc.png'" @style="_legAccColour">
			<<else>>
				<img class="layer-sexlegsbackacc colour-legs_acc anim-missionary-2f" @src="'img/sex/missionary/active/legs/'
				+ $worn.legs.variable + '/' + _feetposition + _feetjob + 'left' + 'acc.png'" @style="_legAccColour">
				<img class="layer-sexlegsacc colour-legs_acc anim-missionary-2f" @src="'img/sex/missionary/active/legs/'
				+ $worn.legs.variable + '/' + _feetposition + _feetjob + 'right' + 'acc.png'" @style="_legAccColour">
			<</if>>
		<</if>>
	<</if>>

	</div>
<</widget>>

<<widget "clothesactivemissionary">>
	<<imgOpacity>>
	<div class="i256">

	<<if !["naked", "lolita headband", "kittycat hat", "newsboy cap", "sexy nun's veil", "sexy nun's ornate veil", "visor"].includes($worn.head.name) and !$worn.head.hood>>
		<img @class="'layer-sexsleeve colour-head anim-doggy-4f-'+_animspeed" @src="'img/sex/missionary/active/head/'+$worn.head.variable+'/full.png'" @style="$worn.head.colourCustom">
		<<if $worn.head.accessory is 1>>
			<img @class="'layer-sexsleeve colour-head_acc anim-doggy-4f-'+_animspeed" @src="'img/sex/missionary/active/head/'+$worn.head.variable+'/acc.png'" @style="($worn.head.accessory_colour is 'custom' ? $worn.head.accessory_colourCustom : '')">
		<</if>>
		<<if $worn.head.back_img is 1 or $worn.head.back_img is "combat">>
			<img @class="'layer-sexupper colour-head anim-doggy-4f-'+_animspeed" @src="'img/sex/missionary/active/head/'+$worn.head.variable+'/back.png'" @style="$worn.head.colourCustom">
		<</if>>
	<</if>>

	<<if !$worn.upper.type.includes("naked") and !["gym shirt","tube top","towel top"].includes($worn.upper.name)>>
		<<if $worn.upper.name is "turtleneck" and $worn.upper.state is "chest">>
		<<elseif $player.perceived_breastsize is 0>>
		<img @class="'layer-sexupper colour-upper anim-doggy-4f-'+_animspeed" src="img/sex/missionary/active/breastcover/none.png" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
		<<elseif $player.perceived_breastsize lte 2>>
		<img @class="'layer-sexupper colour-upper anim-doggy-4f-'+_animspeed" src="img/sex/missionary/active/breastcover/tiny.png" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
		<<elseif $player.perceived_breastsize lte 4>>
		<img @class="'layer-sexupper colour-upper anim-doggy-4f-'+_animspeed" src="img/sex/missionary/active/breastcover/small.png" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
		<<elseif $player.perceived_breastsize lte 6>>
		<img @class="'layer-sexupper colour-upper anim-doggy-4f-'+_animspeed" src="img/sex/missionary/active/breastcover/large.png" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
		<<else>>
		<img @class="'layer-sexupper colour-upper anim-doggy-4f-'+_animspeed" src="img/sex/missionary/active/breastcover/huge.png" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
		<</if>>
	<</if>>

	<<if !$worn.under_upper.type.includes("naked") and $worn.under_upper.state_top is setup.clothes.under_upper[clothesIndex('under_upper', $worn.under_upper)].state_top_base and $worn.under_upper.name isnot "chest wrap" and $worn.under_upper.name isnot "mesh shirt" and $worn.under_upper.name isnot "tape">>
		<<if $worn.upper.name is "turtleneck" and $worn.upper.state is "midriff">>
		<<elseif $player.perceived_breastsize is 0>>
		<img @class="'layer-sexunder colour-under_upper anim-doggy-4f-'+_animspeed" src="img/sex/missionary/active/breastcover/none.png" @style="($worn.under_upper.colour is 'custom'? $worn.under_upper.colourCustom + _underUpperOpacity : '')">
		<<elseif $player.perceived_breastsize lte 2>>
		<img @class="'layer-sexunder colour-under_upper anim-doggy-4f-'+_animspeed" src="img/sex/missionary/active/breastcover/tiny.png" @style="($worn.under_upper.colour is 'custom'? $worn.under_upper.colourCustom + _underUpperOpacity : '')">
		<<elseif $player.perceived_breastsize lte 4>>
		<img @class="'layer-sexunder colour-under_upper anim-doggy-4f-'+_animspeed" src="img/sex/missionary/active/breastcover/small.png" @style="($worn.under_upper.colour is 'custom'? $worn.under_upper.colourCustom + _underUpperOpacity : '')">
		<<elseif $player.perceived_breastsize lte 6>>
		<img @class="'layer-sexunder colour-under_upper anim-doggy-4f-'+_animspeed" src="img/sex/missionary/active/breastcover/large.png" @style="($worn.under_upper.colour is 'custom'? $worn.under_upper.colourCustom + _underUpperOpacity : '')">
		<<else>>
		<img @class="'layer-sexunder colour-under_upper anim-doggy-4f-'+_animspeed" src="img/sex/missionary/active/breastcover/huge.png" @style="($worn.under_upper.colour is 'custom'? $worn.under_upper.colourCustom + _underUpperOpacity : '')">
		<</if>>
	<</if>>

	<<if $worn.upper.set is $worn.lower.set and setup.clothes.lower[clothesIndex('lower', $worn.lower)].skirt is 1>>
		<<set $_skirtOutfit to true>>
		<<if $worn.upper.name is "large towel">>
			<img @class="'layer-sexupper colour-upper anim-doggy-4f-'+_animspeed" @src="'img/sex/missionary/active/largetowel/' + $worn.upper.state + '.png'" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
		<<elseif $worn.upper.state is "waist">>
			<<if $worn.lower.skirt_down is 1>>
				<img @class="'layer-sexlower colour-lower anim-doggy-4f-'+_animspeed" src="img/sex/missionary/active/skirt/waist.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
			<<elseif $worn.lower.skirt_down is 0>>
				<img @class="'layer-sexlower colour-lower anim-doggy-4f-'+_animspeed" src="img/sex/missionary/active/skirt/hips.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
			<</if>>
		<img @class="'layer-sexupper colour-upper anim-doggy-4f-'+_animspeed" src="img/sex/missionary/active/top/waist.png" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
		<<elseif $worn.upper.state is "midriff">>
			<img @class="'layer-sexlower colour-lower anim-doggy-4f-'+_animspeed" src="img/sex/missionary/active/skirt/tummy.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
			<img @class="'layer-sexupper colour-upper anim-doggy-4f-'+_animspeed" src="img/sex/missionary/active/top/tummy.png" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
		<<elseif $worn.upper.state is "chest">>
			<img @class="'layer-sexlower colour-lower anim-doggy-4f-'+_animspeed" src="img/sex/missionary/active/skirt/neck.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
			<img @class="'layer-sexupper colour-upper anim-doggy-4f-'+_animspeed" src="img/sex/missionary/active/top/neck.png" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
		<<else>>
			<<if $penisuse is "othervagina" or $penisuse is "otheranus">>
			<img @class="'layer-sexlower colour-lower anim-doggy-4f-'+_animspeed" src="img/sex/missionary/active/skirt/ankledown.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
			<<else>>
			<img @class="'layer-sexlower colour-lower anim-doggy-4f-'+_animspeed" src="img/sex/missionary/active/skirt/ankle.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
			<</if>>
		<</if>>

		<<if $leftarm is "penis" or $leftarmstate is "tentacle">>

		<</if>>
		<<if $rightarm is "penis" or $rightarmstate is "tentacle">>

		<</if>>
	<</if>>

	<<if $worn.upper.name is "gym shirt">>
		<<if $worn.upper.state is "waist">>
			<img @class="'layer-sexupper colour-upper anim-doggy-4f-'+_animspeed" src="img/sex/missionary/active/gymshirt/waist.png" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
		<<elseif $worn.upper.state is "midriff">>
			<img @class="'layer-sexupper colour-upper anim-doggy-4f-'+_animspeed" src="img/sex/missionary/active/gymshirt/tummy.png" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
		<<elseif $worn.upper.state is "chest">>
			<img @class="'layer-sexupper colour-upper anim-doggy-4f-'+_animspeed" src="img/sex/missionary/active/gymshirt/neck.png" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
		<</if>>
			<img @class="'layer-sexupper colour-upper anim-doggy-4f-'+_animspeed" src="img/sex/missionary/active/gymshirt/acc.png" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
		<<if $player.perceived_breastsize is 0>>
			<img @class="'layer-sexupper colour-upper anim-doggy-4f-'+_animspeed" src="img/sex/missionary/active/gymshirt/none.png" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
		<<elseif $player.perceived_breastsize lte 2>>
			<img @class="'layer-sexupper colour-upper anim-doggy-4f-'+_animspeed" src="img/sex/missionary/active/gymshirt/tiny.png" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
		<<elseif $player.perceived_breastsize lte 4>>
			<img @class="'layer-sexupper colour-upper anim-doggy-4f-'+_animspeed" src="img/sex/missionary/active/gymshirt/small.png" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
		<<elseif $player.perceived_breastsize lte 6>>
			<img @class="'layer-sexupper colour-upper anim-doggy-4f-'+_animspeed" src="img/sex/missionary/active/gymshirt/large.png" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
		<<else>>
			<img @class="'layer-sexupper colour-upper anim-doggy-4f-'+_animspeed" src="img/sex/missionary/active/gymshirt/huge.png" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
		<</if>>

	<<elseif $worn.upper.name is "virgin killer">>
		<img @class="'layer-sexupper colour-upper anim-doggy-4f-'+_animspeed" @src="'img/sex/missionary/active/virginkiller/' + $worn.upper.state + '.png'" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
	<<elseif $worn.upper.name is "sweater" or $worn.upper.name is "girl's sweater">>
		<img @class="'layer-sexupper colour-upper anim-doggy-4f-'+_animspeed" @src="'img/sex/missionary/active/sweater/' + $worn.upper.state + '.png'" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
	<<elseif $worn.upper.name is "cable knit turtleneck" or $worn.upper.name is "turtleneck jumper">>
		<img @class="'layer-sexupper colour-upper anim-doggy-4f-'+_animspeed" @src="'img/sex/missionary/active/long turtleneck/' + $worn.upper.state + '.png'" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
	<<elseif $worn.upper.name is "turtleneck">>
		<img @class="'layer-sexupper colour-upper anim-doggy-4f-'+_animspeed" @src="'img/sex/missionary/active/turtleneck/' + $worn.upper.state + ($worn.upper.state is 'chest' and $player.perceived_breastsize >= 8 ? '_huge' : '') + '.png'" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
	<<elseif $worn.upper.name is "rag top">>
		<<if $player.perceived_breastsize is 0>>
			<<set _tit = "none">>
		<<elseif $player.perceived_breastsize lte 2>>
			<<set _tit = "tiny">>
		<<elseif $player.perceived_breastsize lte 4>>
			<<set _tit = "small">>
		<<elseif $player.perceived_breastsize lte 6>>
			<<set _tit = "large">>
		<<else>>
			<<set _tit = "huge">>
		<</if>>
		<img @class="'layer-sexupper colour-upper anim-doggy-4f-'+_animspeed"  @src="'img/sex/missionary/active/ragtop/'+_tit+'.png'">
	<<elseif $worn.upper.name is "tube top" or $worn.upper.name is "towel top">>
		<<if $worn.upper.state_top is "chest">>
			<<if $player.perceived_breastsize is 0>>
				<<set _tubeimg = "none">>
			<<elseif $player.perceived_breastsize lte 2>>
				<<set _tubeimg = "tiny">>
			<<elseif $player.perceived_breastsize lte 4>>
				<<set _tubeimg = "small">>
			<<elseif $player.perceived_breastsize lte 6>>
				<<set _tubeimg = "large">>
			<<else>>
				<<set _tubeimg = "huge">>
			<</if>>
		<<else>>
			<<set _tubeimg = $worn.upper.state_top>>
		<</if>>
		<<if ($anususe is "penis" or _leg_position is "up") and ["ankles","knees","thighs"].includes(_tubeimg)>>
			<<set _tubeimg += "up">>
		<</if>>
		<img @class="'layer-sexupper colour-upper anim-doggy-4f-'+_animspeed" @src="'img/sex/missionary/active/tubetop/'+_tubeimg+'.png'" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">

	<<elseif !$worn.upper.type.includes("naked") and !$_skirtOutfit>>
		<<if $worn.upper.state is "waist">>
			<img @class="'layer-sexupper colour-upper anim-doggy-4f-'+_animspeed" src="img/sex/missionary/active/top/waist.png" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
		<<elseif $worn.upper.state is "midriff">>
			<img @class="'layer-sexupper colour-upper anim-doggy-4f-'+_animspeed" src="img/sex/missionary/active/top/tummy.png" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
		<<elseif $worn.upper.state is "chest">>
			<img @class="'layer-sexupper colour-upper anim-doggy-4f-'+_animspeed" src="img/sex/missionary/active/top/neck.png" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
		<</if>>
	<</if>>


	<<if setup.clothes.upper[clothesIndex('upper', $worn.upper)].sleeve_img is 1 and $worn.upper.name isnot "t-shirt">>
		<<if $worn.upper.name is "turtleneck">>
			<<set _sleeves to "turtleneck">>
		<<elseif $worn.upper.name is "sweater" or $worn.upper.name is "girl's sweater" or $worn.upper.name is "cable knit turtleneck" or $worn.upper.name is "turtleneck jumper">>
			<<set _sleeves to "sweatersleeves">>
		<<else>>
			<<set _sleeves to "sleeves">>
		<</if>>
		<<if ($leftarm is "bound" or $leftarm is "grappled" or $leftarm is "behind") and ($rightarm is "bound" or $rightarm is "grappled" or $rightarm is "behind")>>
			<img @class="'layer-sexsleeve colour-upper anim-doggy-4f-'+_animspeed" @src="'img/sex/missionary/active/' + _sleeves + '/both_sleeves_bound.png'" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
		<<else>>
			<<if $leftarm is "penis" or $leftarmstate is "tentacle">>
				<img @class="'layer-sexsleeveback colour-upper anim-doggy-4f-'+_animspeed" @src="'img/sex/missionary/active/' + _sleeves + '/left_sleeve_handjob.png'" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
			<</if>>
			<<if $rightarm is "penis" or $rightarmstate is "tentacle">>
				<img @class="'layer-sexsleeve colour-upper anim-doggy-4f-'+_animspeed" @src="'img/sex/missionary/active/' + _sleeves + '/right_sleeve_handjob.png'" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
			<<elseif ($rightarm is "bound" or $rightarm is "grappled" or $rightarm is "behind") and $leftarm isnot "bound" and $leftarm isnot "grappled" and $leftarm isnot "behind">>
				<img @class="'layer-sexsleeve colour-upper anim-doggy-4f-'+_animspeed" @src="'img/sex/missionary/active/' + _sleeves + '/right_sleeve_bound.png'" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
			<<elseif $enemytype is "beast" and $monster isnot 1 and _stanceCheck is "top" and $leftarm isnot "bound" and $leftarm isnot "grappled" and $leftarm isnot "behind">>
				<img @class="'layer-sexsleeve colour-upper anim-doggy-4f-'+_animspeed" @src="'img/sex/missionary/active/' + _sleeves + '/right_sleeve_stroke.png'" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
			<<else>>
				<img @class="'layer-sexsleeve colour-upper anim-doggy-4f-'+_animspeed" @src="'img/sex/missionary/active/' + _sleeves + '/right_sleeve.png'" @style="($worn.upper.colour is 'custom' ? $worn.upper.colourCustom + _upperOpacity : '')">
			<</if>>
		<</if>>
	<</if>>

	<<if $feetuse is "penis" or $feetstate is "tentacle">>
		<<set _feet_pos to "_feetjob">>
	<<elseif $worn.lower.state is "knees">>
		<<set _feet_pos to "_down">>
	<<elseif $penisuse is "othervagina" or $penisuse is "otheranus">>
		<<set _feet_pos to "_left">>
	<<else>>
		<<set _feet_pos to "_up">>
	<</if>>

	<<if $worn.lower.name is "micro pleated skirt">>
		<<if $worn.lower.state is "waist">>
			<<if $worn.lower.skirt_down is 1>>
				<img @class="'layer-sexlower colour-lower anim-doggy-4f-'+_animspeed" src="img/sex/missionary/active/micropleatedskirt/waist.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
			<<elseif $worn.lower.skirt_down is 0>>
				<img @class="'layer-sexlower colour-lower anim-doggy-4f-'+_animspeed" src="img/sex/missionary/active/micropleatedskirt/hips.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
			<</if>>
		<<elseif $worn.lower.state is "midriff">>
		<img @class="'layer-sexlower colour-lower anim-doggy-4f-'+_animspeed" src="img/sex/missionary/active/micropleatedskirt/tummy.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
		<<elseif $worn.lower.state is "chest">>
		<img @class="'layer-sexlower colour-lower anim-doggy-4f-'+_animspeed" src="img/sex/missionary/active/micropleatedskirt/neck.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
		<<else>>
			<<if $penisuse is "othervagina" or $penisuse is "otheranus">>
			<img @class="'layer-sexlower colour-lower anim-doggy-4f-'+_animspeed" src="img/sex/missionary/active/micropleatedskirt/ankledown.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
			<<else>>
			<img @class="'layer-sexlower colour-lower anim-doggy-4f-'+_animspeed" src="img/sex/missionary/active/micropleatedskirt/ankle.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
			<</if>>
		<</if>>
	<<elseif $worn.lower.name is "gym bloomers">>
		<<if $worn.lower.state is "waist">>
			<<if $penisuse is "othervagina" or $penisuse is "otheranus">>
				<img @class="'layer-sexlower colour-lower anim-doggy-4f-'+_animspeed" src="img/sex/missionary/active/gymbloomers/waistdown.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
			<<else>>
				<img @class="'layer-sexlower colour-lower anim-doggy-4f-'+_animspeed" src="img/sex/missionary/active/gymbloomers/waist.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
			<</if>>
		<<else>>
			<<if $penisuse is "othervagina" or $penisuse is "otheranus">>
			<img @class="'layer-sexlower colour-lower anim-doggy-4f-'+_animspeed" src="img/sex/missionary/active/gymbloomers/ankledown.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
			<<else>>
			<img @class="'layer-sexlower colour-lower anim-doggy-4f-'+_animspeed" src="img/sex/missionary/active/gymbloomers/ankle.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
			<</if>>
		<</if>>
	<<elseif $worn.lower.name is "denim shorts">>
		<img @class="'layer-sexlower anim-doggy-4f-'+_animspeed" @src="'img/sex/missionary/active/denimshorts/' + $worn.lower.state + _feet_pos + '.png'">
	<<elseif $worn.lower.name is "booty jorts">>
		<img @class="'layer-sexlower anim-doggy-4f-'+_animspeed" @src="'img/sex/missionary/active/bootyjorts/' + $worn.lower.state + _feet_pos + '.png'">
	<<elseif $worn.lower.name is "rag skirt">>
		<<if $worn.lower.state is "waist">>
			<img @class="'layer-sexlower colour-lower anim-doggy-4f-'+_animspeed" src="img/sex/missionary/active/ragskirt/hips.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
		<<elseif $worn.lower.state is "midriff">>
			<img @class="'layer-sexlower colour-lower anim-doggy-4f-'+_animspeed" src="img/sex/missionary/active/ragskirt/tummy.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
		<<elseif $worn.lower.state is "chest">>
			<img @class="'layer-sexlower colour-lower anim-doggy-4f-'+_animspeed" src="img/sex/missionary/active/ragskirt/neck.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
		<<elseif $penisuse is "othervagina" or $penisuse is "otheranus">>
			<img @class="'layer-sexlower colour-lower anim-doggy-4f-'+_animspeed" src="img/sex/missionary/active/ragskirt/ankledown.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
		<</if>>
	<<elseif !$worn.lower.type.includes("naked") and $worn.upper.set isnot $worn.lower.set and setup.clothes.lower[clothesIndex('lower', $worn.lower)].skirt is 1>>
		<<if setup.clothes.lower[clothesIndex('lower', $worn.lower)].short is 1>>
			<<if $worn.lower.state is "waist">>
				<img @class="'layer-sexlower colour-lower anim-doggy-4f-'+_animspeed" src="img/sex/missionary/active/skirt/hips.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
			<<elseif $worn.lower.state is "midriff">>
				<img @class="'layer-sexlower colour-lower anim-doggy-4f-'+_animspeed" src="img/sex/missionary/active/skirt/tummy.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
			<<elseif $worn.lower.state is "chest">>
				<img @class="'layer-sexlower colour-lower anim-doggy-4f-'+_animspeed" src="img/sex/missionary/active/skirt/neck.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
			<<else>>
				<<if $penisuse is "othervagina" or $penisuse is "otheranus">>
					<img @class="'layer-sexlower colour-lower anim-doggy-4f-'+_animspeed" src="img/sex/missionary/active/skirt/ankledown.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
				<<else>>
					<img @class="'layer-sexlower colour-lower anim-doggy-4f-'+_animspeed" src="img/sex/missionary/active/skirt/ankle.png" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
				<</if>>
			<</if>>
		<<else>>
			<img @class="'layer-sexlower colour-lower anim-doggy-4f-'+_animspeed" @src="'img/sex/missionary/active/longskirt/' + $worn.lower.state + _feet_pos + '.png'" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
		<</if>>
	<<elseif !$worn.lower.type.includes("naked") and !$_skirtOutfit>>
		<<if $worn.lower.name is "jeans">>
			<img @class="'layer-sexlower anim-doggy-4f-'+_animspeed" @src="'img/sex/missionary/active/jeans/' + $worn.lower.state + _feet_pos + '.png'">
		<<elseif setup.clothes.lower[clothesIndex('lower', $worn.lower)].short is 1>>
			<img @class="'layer-sexlower colour-lower anim-doggy-4f-'+_animspeed" @src="'img/sex/missionary/active/shorts/' + $worn.lower.state + _feet_pos + '.png'" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
		<<else>>
			<img @class="'layer-sexlower colour-lower anim-doggy-4f-'+_animspeed" @src="'img/sex/missionary/active/trousers/' + $worn.lower.state + _feet_pos + '.png'" @style="($worn.lower.colour is 'custom'? $worn.lower.colourCustom + _lowerOpacity : '')">
		<</if>>
	<</if>>

	<<if $worn.under_lower.name is "thong" or $worn.under_lower.name is "microkini bottom">>
		<<if $worn.under_lower.state is "waist" or $worn.under_lower.state is "totheside">>
			<<if $penisuse is "othervagina" or $penisuse is "otheranus">>
			<img @class="'layer-sexunder colour-under_lower anim-doggy-4f-'+_animspeed" src="img/sex/missionary/active/thong/waistdown.png" @style="($worn.under_lower.colour is 'custom'? $worn.under_lower.colourCustom + _underLowerOpacity : '')">
			<<else>>
			<img @class="'layer-sexunder colour-under_lower anim-doggy-4f-'+_animspeed" src="img/sex/missionary/active/thong/waist.png" @style="($worn.under_lower.colour is 'custom'? $worn.under_lower.colourCustom + _underLowerOpacity : '')">
			<</if>>
		<<else>>
			<<if $penisuse is "othervagina" or $penisuse is "otheranus">>
			<img @class="'layer-sexunder colour-under_lower anim-doggy-4f-'+_animspeed" src="img/sex/missionary/active/thong/ankledown.png" @style="($worn.under_lower.colour is 'custom'? $worn.under_lower.colourCustom + _underLowerOpacity : '')">
			<<else>>
			<img @class="'layer-sexunder colour-under_lower anim-doggy-4f-'+_animspeed" src="img/sex/missionary/active/thong/ankle.png" @style="($worn.under_lower.colour is 'custom'? $worn.under_lower.colourCustom + _underLowerOpacity : '')">
			<</if>>
		<</if>>
	<<elseif $worn.under_lower.name is "highwaisted microkini bottom">>
		<<if $worn.under_lower.state is "waist" or $worn.under_lower.state is "totheside">>
			<<if $penisuse is "othervagina" or $penisuse is "otheranus">>
			<img @class="'layer-sexunder colour-under_lower anim-doggy-4f-'+_animspeed" src="img/sex/missionary/active/under_lower/highmicrokini/waistdown.png" @style="($worn.under_lower.colour is 'custom'? $worn.under_lower.colourCustom + _underLowerOpacity : '')">
			<<else>>
			<img @class="'layer-sexunder colour-under_lower anim-doggy-4f-'+_animspeed" src="img/sex/missionary/active/under_lower/highmicrokini/waist.png" @style="($worn.under_lower.colour is 'custom'? $worn.under_lower.colourCustom + _underLowerOpacity : '')">
			<</if>>
		<<else>>
			<<if $penisuse is "othervagina" or $penisuse is "otheranus">>
			<img @class="'layer-sexunder colour-under_lower anim-doggy-4f-'+_animspeed" src="img/sex/missionary/active/under_lower/highmicrokini/ankledown.png" @style="($worn.under_lower.colour is 'custom'? $worn.under_lower.colourCustom + _underLowerOpacity : '')">
			<<else>>
			<img @class="'layer-sexunder colour-under_lower anim-doggy-4f-'+_animspeed" src="img/sex/missionary/active/under_lower/highmicrokini/ankle.png" @style="($worn.under_lower.colour is 'custom'? $worn.under_lower.colourCustom + _underLowerOpacity : '')">
			<</if>>
		<</if>>
	<<elseif $worn.under_lower.name is "cow panties">>
		<img @class="'layer-sexunder colour-under_lower anim-doggy-4f-'+_animspeed" src="img/sex/missionary/active/cowpanties/waist.png">
	<<elseif $worn.under_lower.type.includes("strap-on") and $worn.lower.vagina_exposed is 1>>
		<img @class="'layer-sexunder colour-under_lower anim-doggy-4f-'+_animspeed" @src="'img/sex/missionary/active/strapon/' + $worn.under_lower.state + '.png'" @style="($worn.under_lower.colour is 'custom'? $worn.under_lower.colourCustom + _underLowerOpacity : '')">
	<<elseif !$worn.under_lower.type.includes("naked")>>
		<<if $worn.under_lower.state is "waist" or $worn.under_lower.state is "totheside">>
			<<if $penisuse is "othervagina" or $penisuse is "otheranus">>
			<img @class="'layer-sexunder colour-under_lower anim-doggy-4f-'+_animspeed" src="img/sex/missionary/active/panties/waistdown.png" @style="($worn.under_lower.colour is 'custom'? $worn.under_lower.colourCustom + _underLowerOpacity : '')">
			<<else>>
			<img @class="'layer-sexunder colour-under_lower anim-doggy-4f-'+_animspeed" src="img/sex/missionary/active/panties/waist.png" @style="($worn.under_lower.colour is 'custom'? $worn.under_lower.colourCustom + _underLowerOpacity : '')">
			<</if>>
		<<else>>
			<<if $penisuse is "othervagina" or $penisuse is "otheranus">>
			<img @class="'layer-sexunder colour-under_lower anim-doggy-4f-'+_animspeed" src="img/sex/missionary/active/panties/ankledown.png" @style="($worn.under_lower.colour is 'custom'? $worn.under_lower.colourCustom + _underLowerOpacity : '')">
			<<else>>
			<img @class="'layer-sexunder colour-under_lower anim-doggy-4f-'+_animspeed" src="img/sex/missionary/active/panties/ankle.png" @style="($worn.under_lower.colour is 'custom'? $worn.under_lower.colourCustom + _underLowerOpacity : '')">
			<</if>>
		<</if>>
	<</if>>

	<<if $worn.under_upper.name is "chest wrap" and $worn.under_upper.exposed is 0>>
		<<if $player.perceived_breastsize is 0>>
			<img @class="'layer-sexunder colour-under_upper anim-doggy-4f-'+_animspeed" src="img/sex/missionary/active/chestwrap/none.png" @style="($worn.under_upper.colour is 'custom' ? $worn.under_upper.colourCustom + _underUpperOpacity : '')">
		<<elseif $player.perceived_breastsize is 1 or $player.perceived_breastsize is 2>>
			<img @class="'layer-sexunder colour-under_upper anim-doggy-4f-'+_animspeed" src="img/sex/missionary/active/chestwrap/tiny.png" @style="($worn.under_upper.colour is 'custom' ? $worn.under_upper.colourCustom + _underUpperOpacity : '')">
		<<elseif $player.perceived_breastsize is 3 or $player.perceived_breastsize is 4>>
			<img @class="'layer-sexunder colour-under_upper anim-doggy-4f-'+_animspeed" src="img/sex/missionary/active/chestwrap/small.png" @style="($worn.under_upper.colour is 'custom' ? $worn.under_upper.colourCustom + _underUpperOpacity : '')">
		<<elseif $player.perceived_breastsize gte 5 and $player.perceived_breastsize lte 7>>
			<img @class="'layer-sexunder colour-under_upper anim-doggy-4f-'+_animspeed" src="img/sex/missionary/active/chestwrap/large.png" @style="($worn.under_upper.colour is 'custom' ? $worn.under_upper.colourCustom + _underUpperOpacity : '')">
		<<elseif $player.perceived_breastsize gte 8 and $player.perceived_breastsize lte 12>>
			<img @class="'layer-sexunder colour-under_upper anim-doggy-4f-'+_animspeed" src="img/sex/missionary/active/chestwrap/huge.png" @style="($worn.under_upper.colour is 'custom'? $worn.under_upper.colourCustom + _underUpperOpacity : '')">
		<</if>>
	<<elseif $worn.under_upper.name is "tape">>
		<<if $player.perceived_breastsize is 0>>
			<<set _size to "none">>
		<<elseif $player.perceived_breastsize is 1 or $player.perceived_breastsize is 2>>
			<<set _size to "tiny">>
		<<elseif $player.perceived_breastsize is 3 or $player.perceived_breastsize is 4>>
			<<set _size to "small">>
		<<elseif $player.perceived_breastsize gte 5 and $player.perceived_breastsize lte 7>>
			<<set _size to "large">>
		<<elseif $player.perceived_breastsize gte 8 and $player.perceived_breastsize lte 12>>
			<<set _size to "huge">>
		<</if>>
		<img @class="'layer-sexunder colour-under_upper anim-doggy-4f-'+_animspeed" @src="'img/sex/missionary/active/tape/'+_size+'.png'" @style="($worn.under_upper.colour is 'custom' ? $worn.under_upper.colourCustom + _underUpperOpacity : '')">
	<<elseif $worn.under_upper.name is "mesh shirt">>
		<<if $worn.under_upper.state is "midriff">>
			<<set _state to "midriff">>
		<<else>>
			<<set _state to "neck">>
		<</if>>
		<img @class="'layer-sexunder colour-under_upper anim-doggy-4f-'+_animspeed" @src="'img/sex/missionary/active/mesh/'+_state+'.png'" @style="($worn.under_upper.colour is 'custom' ? $worn.under_upper.colourCustom + _upperOpacity : '')">

		<<if $worn.under_upper.exposed is 0>>
			<<if $player.perceived_breastsize is 0>>
				<<set _size to "none">>
			<<elseif $player.perceived_breastsize is 1 or $player.perceived_breastsize is 2>>
				<<set _size to "tiny">>
			<<elseif $player.perceived_breastsize is 3 or $player.perceived_breastsize is 4>>
				<<set _size to "small">>
			<<elseif $player.perceived_breastsize gte 5 and $player.perceived_breastsize lte 7>>
				<<set _size to "large">>
			<<elseif $player.perceived_breastsize gte 8 and $player.perceived_breastsize lte 12>>
				<<set _size to "huge">>
			<</if>>
			<img @class="'layer-sexunder colour-under_upper anim-doggy-4f-'+_animspeed" @src="'img/sex/missionary/active/mesh/'+_size+'.png'" @style="($worn.under_upper.colour is 'custom' ? $worn.under_upper.colourCustom + _underUpperOpacity : '')">
		<</if>>
	<<elseif $worn.under_upper.name is "cow bra">>
		<<if $worn.upper.state_top is "chest">>
			<<if $player.perceived_breastsize is 0>>
				<<set _tit = "none">>
			<<elseif $player.perceived_breastsize lte 2>>
				<<set _tit = "tiny">>
			<<elseif $player.perceived_breastsize lte 4>>
				<<set _tit = "small">>
			<<elseif $player.perceived_breastsize lte 6>>
				<<set _tit = "large">>
			<<else>>
				<<set _tit = "huge">>
			<</if>>
		<</if>>
		<img @class="'layer-sexunder colour-under_upper anim-idle-4f-'+_animspeed" @src="'img/sex/missionary/active/cowbra/'+_tit+'.png'">
	<<elseif $worn.under_upper.name is "swim shirt">>
		<<if $worn.under_upper.state is "waist">>
			<<set _state to "waist">>
		<<elseif $worn.under_upper.state is "midriff">>
			<<set _state to "midriff">>
		<<else>>
			<<set _state to "chest">>
		<</if>>
		<img @class="'layer-sexunder colour-under_upper anim-idle-4f-'+_animspeed" @src="'img/sex/missionary/active/swimshirt/'+_state+'.png'" @style="($worn.under_upper.colour is 'custom' ? $worn.under_upper.colourCustom + _underUpperOpacity : '')">
	<<elseif $worn.under_upper.name is "shibari ropes">>
		<img @class="'layer-sexunder colour-under_upper anim-doggy-4f-'+_animspeed" @src="'img/sex/missionary/active/shibari/'+$worn.under_upper.state+'.png'" @style="($worn.under_upper.colour is 'custom' ? $worn.under_upper.colourCustom + _underUpperOpacity : '')">
	<<elseif !$worn.under_upper.type.includes("naked")>>
		<img @class="'layer-sexunder colour-under_upper anim-doggy-4f-'+_animspeed" src="img/sex/missionary/active/bra/bra.png" @style="($worn.under_upper.colour is 'custom'? $worn.under_upper.colourCustom + _underUpperOpacity : '')">
	<</if>>

	<<if $worn.face.variable.startsWith("gag")>>
		<img @class="'layer-sexunder colour-face anim-doggy-4f-'+_animspeed" src="img/sex/missionary/active/facewear/gag/full.png" @style="$worn.face.colourCustom">
		<<if $worn.face.type.includes("blindfold")>>
			<img @class="'layer-sexunder colour-face anim-doggy-4f-'+_animspeed" src="img/sex/missionary/active/facewear/blindfold/full.png" @style="$worn.face.colourCustom">
		<</if>>
	<<elseif $worn.face.variable.startsWith("muzzle")>>
		<img @class="'layer-sexunder colour-face anim-doggy-4f-'+_animspeed" src="img/sex/missionary/active/facewear/muzzle/full.png" @style="$worn.face.colourCustom">
	<<elseif $worn.face.name is "islander mask">>
		<img @class="'layer-sexsleeve anim-doggy-4f-'+_animspeed" @src="'img/sex/missionary/active/facewear/'+$worn.face.variable+'/full.png'">
	<<elseif $worn.face.name isnot "naked">>
		<img @class="'layer-sexunder colour-face anim-doggy-4f-'+_animspeed" @src="'img/sex/missionary/active/facewear/'+$worn.face.variable+'/full.png'" @style="$worn.face.colourCustom">
		<<if $worn.face.accessory is 1 && ["monocle", "gasmask", "square", "round", "punk", "coolshades", "cateye", "belly", "aviator"].includes($worn.face.variable)>>
			<img @class="'layer-sexunder anim-doggy-4f-'+_animspeed" @src="'img/sex/missionary/active/facewear/'+$worn.face.variable+'/acc.png'">
		<</if>>
	<</if>>

	<<if $worn.neck.name is "cow bell">>
		<img @class="'layer-sexunder anim-doggy-4f-'+_animspeed" src="img/sex/missionary/active/cow/full.png">
	<<elseif $worn.neck.name is "necktie">>
		<img @class="'layer-sextiemissionary colour-neck anim-doggy-4f-'+_animspeed" src="img/sex/missionary/active/tie/neck.png">
	<<elseif $worn.neck.name is "scarf">>
		<img @class="'layer-sexunder colour-neck anim-doggy-4f-'+_animspeed" src="img/sex/missionary/active/scarf/full.png" @style="($worn.neck.colour is 'custom'? $worn.neck.colourCustom : '')">
	<<elseif $worn.neck.name is "gold choker">>
		<img @class="'layer-sexunder anim-doggy-4f-'+_animspeed" src="img/sex/missionary/active/goldchoker/full.png">
	<<elseif $worn.neck.name is "cloth choker">>
		<img @class="'layer-sexunder colour-neck anim-doggy-4f-'+_animspeed" src="img/sex/missionary/active/clothchoker/full.png" @style="($worn.neck.colour is 'custom'? $worn.neck.colourCustom : '')">
	<</if>>

	<<if $worn.hands.name isnot "naked">>
		<<if $worn.hands.leftImage is 1>>
			<<if $leftarm is "penis">>
				<img @class="'layer-sexsclera colour-hands anim-doggy-4f-'+_animspeed" @src="'img/sex/missionary/active/hands/'+$worn.hands.variable+'/left handjob.png'" @style="$worn.hands.colourCustom">
			<<elseif $leftarm is "bound">>
			<<elseif $leftarm is "grappled">>
			<<elseif $leftarm is "behind">>
			<<elseif $leftarmstate is "tentacle">>
			<<else>>
			<</if>>
		<</if>>
		<<if $worn.hands.rightImage is 1>>
			<<if $rightarm is "penis">>
				<img @class="'layer-sexhands colour-hands anim-doggy-4f-'+_animspeed" @src="'img/sex/missionary/active/hands/'+$worn.hands.variable+'/right handjob.png'" @style="$worn.hands.colourCustom">
			<<elseif $rightarm is "bound">>
			<<elseif $rightarm is "grappled">>
			<<elseif $rightarm is "behind">>
			<<elseif $rightarmstate is "tentacle">>
			<<elseif $enemytype is "beast" and $monster isnot 1 and _stanceCheck is "top">>
				<img @class="'layer-sexhands colour-hands anim-doggy-4f-'+_animspeed" @src="'img/sex/missionary/active/hands/'+$worn.hands.variable+'/right arm stroke.png'" @style="$worn.hands.colourCustom">
			<<else>>
				<img @class="'layer-sexhands colour-hands anim-doggy-4f-'+_animspeed" @src="'img/sex/missionary/active/hands/'+$worn.hands.variable+'/right arm.png'" @style="$worn.hands.colourCustom">
			<</if>>
		<</if>>
	<</if>>

	<<if $worn.feet.type.includes("heels") or ["light-up trainers", "ankle cuffs", "ball and chain"].includes($worn.feet.name)>>
		<<if $feetuse is "penis" or $feetstate is "tentacle">>
			<<set _legl to 'legl'>>
			<<set _legr to 'feetjob'>>
		<<else>>
			<<set _legl to 'legl'>>
			<<set _legr to (($penisuse is "othervagina" or $penisuse is "otheranus") ? 'legrdown' : 'legr')>>
		<</if>>
		<<if $worn.feet.colour>>
			<<set _shoeColour to $worn.feet.colourCustom>>
		<</if>>
		<<if $worn.feet.accessory_colour>>
			<<set _shoeAccColour to $worn.feet.accessory_colourCustom>>
		<</if>>
		<img @class="'layer-sexbaseoverlay colour-feet anim-doggy-4f-'+_animspeed" @src="'img/sex/missionary/active/shoes/'
		+ $worn.feet.variable + '/' + _legl + '.png'" @style="_shoeColour">
		<img @class="'layer-sexunder colour-feet anim-doggy-4f-'+_animspeed" @src="'img/sex/missionary/active/shoes/'
		+ $worn.feet.variable + '/' + _legr + '.png'" @style="_shoeColour">
		<<if $worn.feet.accessory>>
			<<if $worn.feet.accessory_colour isnot 0>>
				<img @class="'layer-sexbaseoverlay colour-feet_acc anim-doggy-4f-'+_animspeed" @src="'img/sex/missionary/active/shoes/'
				+ $worn.feet.variable + '/' + _legl + 'acc.png'" @style="_shoeAccColour">
				<img @class="'layer-sexshoes colour-feet_acc anim-doggy-4f-'+_animspeed" @src="'img/sex/missionary/active/shoes/'
				+ $worn.feet.variable + '/' + _legr + 'acc.png'" @style="_shoeAccColour">
			<<else>>
				<img @class="'layer-sexbaseoverlay anim-doggy-4f-'+_animspeed" @src="'img/sex/missionary/active/shoes/'
				+ $worn.feet.variable + '/' + _legl + 'acc.png'">
				<img @class="'layer-sexshoes anim-doggy-4f-'+_animspeed" @src="'img/sex/missionary/active/shoes/'
				+ $worn.feet.variable + '/' + _legr + 'acc.png'">
			<</if>>
		<</if>>

		<<if $worn.feet.name is "ankle cuffs">>
			<<if _legl is 'legl'>>
				<<if _legr is 'legrdown'>>
					<img @class="'layer-sexbaseoverlay anim-doggy-4f-'+_animspeed" @src="'img/sex/missionary/active/shoes/anklecuffs/acc_left_up.png'">
				<<else>>
					<img @class="'layer-sexbaseoverlay anim-doggy-4f-'+_animspeed" @src="'img/sex/missionary/active/shoes/anklecuffs/acc_both_up.png'">
				<</if>>
			<<else>>
				<<if _legr is 'legrdown'>>
					<img @class="'layer-sexbaseoverlay anim-doggy-4f-'+_animspeed" @src="'img/sex/missionary/active/shoes/anklecuffs/acc_both_down.png'">
				<<else>>
					<img @class="'layer-sexbaseoverlay anim-doggy-4f-'+_animspeed" @src="'img/sex/missionary/active/shoes/anklecuffs/acc_right_up.png'">
				<</if>>
			<</if>>
		<</if>>
	<</if>>

	<<if !$worn.legs.type.includes("naked")>>
		<<set $_legsClothing to setup.clothes.legs[clothesIndex('legs', $worn.legs)]>>

		<<if $feetuse is "penis" or $feetstate is "tentacle">>
			<<set _legl to 'up'>>
			<<set _legr to 'feetjob'>>
		<<elseif $penisuse isnot "othervagina" and $penisuse isnot "otheranus">>
			<<set _legl to 'up'>>
			<<set _legr to 'up'>>
		<<elseif $penisuse is "othervagina" or $penisuse is "otheranus">>
			<<set _legl to 'up'>>
			<<set _legr to 'down'>>
		<<else>>
			<<set _legl to 'down'>>
			<<set _legr to 'down'>>
		<</if>>

		<<if $worn.legs.state is $_legsClothing.state_base>>
			<<set _feetposition to "full">>
		<<else>>
			<<set _feetposition to "knees">>
		<</if>>

		<<set _legColour to "">>
		<<if $worn.legs.colour>>
			<<set _legColour to $worn.legs.colourCustom || "">>
		<</if>>

		<<set _legAccColour to "">>
		<<if $worn.legs.accessory_colour>>
			<<set _legAccColour to $worn.legs.accessory_colourCustom || "">>
		<</if>>

		<<if setup.clothes.legs[clothesIndex('legs', $worn.legs)].colour_combat is 0>>
			<<if $_legsClothing.state_base is "waist">>
				<img @class="'layer-sexlegs colour-legs anim-doggy-4f-'+_animspeed" @src="'img/sex/missionary/active/legs/'
					+ $worn.legs.variable + '/' + _feetposition + _legr + '.png'" @style="_legColour">
			<<elseif $_legsClothing.state_base is "ankles">>
				<<if _legr is "feetjob">>
					<img @class="'layer-sexlegs colour-legs anim-doggy-4f-'+_animspeed" @src="'img/sex/missionary/active/legs/'
						+ $worn.legs.variable + '/' + _feetposition + _legr + '.png'" @style="_legColour">
				<<else>>
					<img @class="'layer-sexlegsback colour-legs anim-doggy-4f-'+_animspeed" @src="'img/sex/missionary/active/legs/'
						+ $worn.legs.variable + '/' + _feetposition + _legl + 'left' + '.png'" @style="_legColour">
					<img @class="'layer-sexlegs colour-legs anim-doggy-4f-'+_animspeed" @src="'img/sex/missionary/active/legs/'
						+ $worn.legs.variable + '/' + _feetposition + _legr + 'right' + '.png'" @style="_legColour">
				<</if>>
			<<else>>
				<<if _legr is "feetjob">>
					<img @class="'layer-sexlegsback colour-legs anim-doggy-4f-'+_animspeed" @src="'img/sex/missionary/active/legs/'
						+ $worn.legs.variable + '/' + _feetposition + _legl + 'left' + '.png'" @style="_legColour">
					<img @class="'layer-sexlegs colour-legs anim-doggy-4f-'+_animspeed" @src="'img/sex/missionary/active/legs/'
						+ $worn.legs.variable + '/' + _feetposition + _legr + '.png'" @style="_legColour">
				<<else>>
					<img @class="'layer-sexlegsback colour-legs anim-doggy-4f-'+_animspeed" @src="'img/sex/missionary/active/legs/'
						+ $worn.legs.variable + '/' + _feetposition + _legl + 'left' + '.png'" @style="_legColour">
					<img @class="'layer-sexlegs colour-legs anim-doggy-4f-'+_animspeed" @src="'img/sex/missionary/active/legs/'
						+ $worn.legs.variable + '/' + _feetposition + _legr + 'right' + '.png'" @style="_legColour">
				<</if>>
			<</if>>
		<</if>>
		<<if $worn.legs.accessory and setup.clothes.legs[clothesIndex('legs', $worn.legs)].accessory_colour_combat is 0>>
			<<if $_legsClothing.state_base is "waist">>
				<img @class="'layer-sexlegsacc colour-legs_acc anim-doggy-4f-'+_animspeed" @src="'img/sex/missionary/active/legs/'
					+ $worn.legs.variable + '/' + _feetposition + _legr + 'acc.png'" @style="_legAccColour">
			<<elseif $_legsClothing.state_base is "ankles">>
				<<if _legr is "feetjob">>
					<img @class="'layer-sexlegsbackacc colour-legs_acc anim-doggy-4f-'+_animspeed" @src="'img/sex/missionary/active/legs/'
						+ $worn.legs.variable + '/' + _feetposition + _legr + 'acc.png'" @style="_legAccColour">
				<<else>>
					<img @class="'layer-sexlegsbackacc colour-legs_acc anim-doggy-4f-'+_animspeed" @src="'img/sex/missionary/active/legs/'
						+ $worn.legs.variable + '/' + _feetposition + _legl + 'left' + 'acc.png'" @style="_legAccColour">
					<img @class="'layer-sexlegsacc colour-legs_acc anim-doggy-4f-'+_animspeed" @src="'img/sex/missionary/active/legs/'
						+ $worn.legs.variable + '/' + _feetposition + _legr + 'right' + 'acc.png'" @style="_legAccColour">
				<</if>>
			<<else>>
				<<if _legr is "feetjob">>
					<img @class="'layer-sexlegsbackacc colour-legs_acc anim-doggy-4f-'+_animspeed" @src="'img/sex/missionary/active/legs/'
						+ $worn.legs.variable + '/' + _feetposition + _legl + 'left' + 'acc.png'" @style="_legAccColour">
					<img @class="'layer-sexlegsacc colour-legs_acc anim-doggy-4f-'+_animspeed" @src="'img/sex/missionary/active/legs/'
						+ $worn.legs.variable + '/' + _feetposition + _legr + 'acc.png'" @style="_legAccColour">
				<<else>>
					<img @class="'layer-sexlegsbackacc colour-legs_acc anim-doggy-4f-'+_animspeed" @src="'img/sex/missionary/active/legs/'
						+ $worn.legs.variable + '/' + _feetposition + _legl + 'left' + 'acc.png'" @style="_legAccColour">
					<img @class="'layer-sexlegsacc colour-legs_acc anim-doggy-4f-'+_animspeed" @src="'img/sex/missionary/active/legs/'
						+ $worn.legs.variable + '/' + _feetposition + _legr + 'right' + 'acc.png'" @style="_legAccColour">
				<</if>>
			<</if>>
		<</if>>
	<</if>>

	</div>
<</widget>>

:: Widgets Clothes Img [widget]

<<widget "baseClothingStrings">>
	<<set _worn = $worn[_args[0]]>>
	<<set _class to 'anim-idle-2f' + (_worn.colour_sidebar and typeof(_worn.colour) == "string" ? ' clothes-'+_worn.colour.replace(/ /g, '-'):'')>>
	<<set _classAcc to 'anim-idle-2f ' + (_worn.accessory_colour_sidebar and typeof(_worn.accessory_colour) == "string" ? ' clothes-'+_worn.accessory_colour.replace(/ /g, '-') :'')>>
	<<set _style to (_worn.colourCustom ? _worn.colourCustom :'')>>
	<<set _styleAcc to (_worn.accessory_colourCustom ? _worn.accessory_colourCustom :'')>>
<</widget>>

<<widget "baseClothingImg">>
	<<if $worn[_args[0]].name isnot "naked">>
		<<baseClothingStrings _args[0]>>
		<div @class="'clothes-div layer-'+_args[0]">
			<<if $worn[_args[0]].mainImage isnot 0>>
				<img @class="_class" @src="'img/clothes/'+[_args[0]]+'/' + $worn[_args[0]].variable + '/' + 'full.png'" @style="_style">
			<</if>>
			<<if $worn[_args[0]].accessory is 1>>
				<img @class="_classAcc" @src="'img/clothes/'+[_args[0]]+'/' + $worn[_args[0]].variable + '/' + 'acc.png'" @style="_styleAcc">
			<</if>>
		</div>
		<<if $worn[_args[0]].back_img is 1>>
			<div @class="'clothes-div layer-'+_args[0]+'-back'">
				<img @class="$worn[_args[0]].back_img_colour is 'secondary' ? _classAcc : _class" @src="'img/clothes/'+[_args[0]]+'/' + $worn[_args[0]].variable + '/' + 'back.png'" @style="_styleAcc">
			</div>
		<</if>>
	<</if>>
<</widget>>

<<widget "neckimg">>
	<<if $worn.neck.name isnot "naked">>
		<<if $worn.neck.name is "necktie">>
			<<baseClothingStrings "neck">>
			<<if $worn.upper.has_collar is 1>>
				<<set _tieimg = "full_nocollar">>
			<<else>>
				<<set _tieimg = "full">>
			<</if>>
			<div @class="'clothes-div layer-neck'">
			<img @class="_class" @src="'img/clothes/neck/' + $worn.neck.variable + '/' + _tieimg + '.png'" @style="_style">
			<img @class="_classAcc" @src="'img/clothes/neck/' + $worn.neck.variable + '/' + 'acc.png'" @style="_styleAcc">
			<<if $worn.neck.leash is 1>>
				<img @class="_class" @src="'img/clothes/neck/collar/leash.png'">
			<</if>>
			</div>
		<<else>>
			<<baseClothingImg "neck">>
		<</if>>
	<</if>>
<</widget>>

<<widget "handsimg">>
	<<if $worn.hands.name isnot "naked">>
		<<baseClothingStrings "hands">>
		<div @class="'clothes-div layer-hands'">
			<<if $worn.hands.mainImage isnot 0>>
				<img @class="_class" @src="'img/clothes/hands/' + $worn.hands.variable + '/' + 'full.png'" @style="_style">
			<</if>>
			<<if $worn.hands.leftImage is 1 and $leftarm isnot "bound" and $leftarm isnot "grappled" and $leftarm isnot "behind">>
				<<set _leftImage to "left">>
				<<if _coverLeft is true>>
					<<run _leftImage += "_cover">>
				<</if>>
				<img @class="_class" @src="'img/clothes/hands/' + $worn.hands.variable + '/' + _leftImage + '.png'" @style="_style">
				<<if $worn.hands.accessory is 1>>
					<img @class="_classAcc" @src="'img/clothes/hands/' + $worn.hands.variable + '/' + _leftImage + '_acc.png'" @style="_styleAcc">
				<</if>>
			<</if>>
			<<if $worn.hands.rightImage is 1 and $rightarm isnot "bound" and $rightarm isnot "grappled" and $rightarm isnot "behind">>
				<<set _rightImage to "right">>
				<<if _coverRight is true>>
					<<run _rightImage += "_cover">>
				<</if>>
				<img @class="_class" @src="'img/clothes/hands/' + $worn.hands.variable + '/' + _rightImage + '.png'" @style="_style">
				<<if $worn.hands.accessory is 1>>
					<img @class="_classAcc" @src="'img/clothes/hands/' + $worn.hands.variable + '/' + _rightImage + '_acc.png'" @style="_styleAcc">
				<</if>>
			<</if>>
		</div>
	<</if>>
<</widget>>

<<widget "underupperimg">>
	<<if $worn.under_upper.name isnot "naked">>
		<<baseClothingStrings "under_upper">>
		<<switch $underupperwetstage>>
			<<case 1>><<set _underUpperWetness to " clothes-damp">>
			<<case 2>><<set _underUpperWetness to " clothes-wet">>
			<<case 3>><<set _underUpperWetness to " clothes-drenshed">>
			<<default>><<set _underUpperWetness to "">>
		<</switch>>

		<<if $worn.under_upper.integrity lte (clothingData('under_upper',$worn.under_upper,'integrity_max') / 10) * 2>>
			<<set _imgName to "tattered">>
		<<elseif $worn.under_upper.integrity lte (clothingData('under_upper',$worn.under_upper,'integrity_max') / 10) * 5>>
			<<set _imgName to "torn">>
		<<elseif $worn.under_upper.integrity lte (clothingData('under_upper',$worn.under_upper,'integrity_max') / 10) * 9>>
			<<set _imgName to "frayed">>
		<<else>>
			<<set _imgName to "full">>
		<</if>>
		<div @class="'clothes-div layer-under_upper' + _underUpperWetness">
			<<if $worn.under_upper.mainImage isnot 0>>
				<img @class="_class" @src="'img/clothes/under_upper/' + $worn.under_upper.variable + '/' + _imgName + '.png'" @style="_style">
			<</if>>
			<<if setup.clothes.under_upper[clothesIndex('under_upper', $worn.under_upper)].breast_img is 1>>
				<img @class="_class" @src="'img/clothes/under_upper/' + $worn.under_upper.variable + '/' + (Math.min(_breastSize, 5)) + '.png'" @style="_style">
			<</if>>
			<<if $worn.under_upper.accessory is 1>>
				<img @class="_classAcc" @src="'img/clothes/under_upper/' + $worn.under_upper.variable + '/' + 'acc' + ($worn.under_upper.accessory_integrity_img ? '_' + _imgName : '') + '.png'" @style="_styleAcc">
			<</if>>
			<<if $worn.under_upper.breast_acc_img is 1>>
				<img @class="_classAcc" @src="'img/clothes/under_upper/' + $worn.under_upper.variable + '/' + (Math.min(_breastSize, 5)) + '_acc.png'" @style="_styleAcc">
			<</if>>
		</div>
		<<set _sleeveClass to {
			"": _class,
			"primary": _class,
			"no": "",
			"secondary": _classAcc
		}[$worn.under_upper.sleeve_colour||""]>>
		<<if _coverRight isnot undefined and $worn.under_upper.sleeve_img is 1>>
			<div @class="'clothes-div layer-rightarmunderclothes' + _underUpperWetness">
			<<if _coverRight is true>>
				<img @class="_sleeveClass" @src="'img/clothes/under_upper/' + $worn.under_upper.variable + '/' + 'right_cover.png'" @style="_style">
			<<else>>
				<img @class="_sleeveClass" @src="'img/clothes/under_upper/' + $worn.under_upper.variable + '/' + 'right.png'" @style="_style">
			<</if>>
			</div>
		<</if>>
		<<if _coverLeft isnot undefined and $worn.under_upper.sleeve_img is 1>>
			<div @class="'clothes-div layer-leftarmunderclothes' + _underUpperWetness">
			<<if _coverLeft is true>>
				<img @class="_sleeveClass" @src="'img/clothes/under_upper/' + $worn.under_upper.variable + '/' + 'left_cover.png'" @style="_style">
			<<else>>
				<img @class="_sleeveClass" @src="'img/clothes/under_upper/' + $worn.under_upper.variable + '/' + 'left.png'" @style="_style">
			<</if>>
			</div>
		<</if>>
	<</if>>
<</widget>>

<<widget "underlowerimg">>
	<<if $worn.under_lower.name isnot "naked">>
		<<baseClothingStrings "under_lower">>
		<<switch $underlowerwetstage>>
			<<case 1>><<set _underlowerWetness to " clothes-damp">>
			<<case 2>><<set _underlowerWetness to " clothes-wet">>
			<<case 3>><<set _underlowerWetness to " clothes-drenshed">>
			<<default>><<set _underlowerWetness to "">>
		<</switch>>

		<<if $worn.under_lower.integrity lte (clothingData('under_lower',$worn.under_lower,'integrity_max') / 10) * 2>>
			<<set _imgName to "tattered">>
		<<elseif $worn.under_lower.integrity lte (clothingData('under_lower',$worn.under_lower,'integrity_max') / 10) * 5>>
			<<set _imgName to "torn">>
		<<elseif $worn.under_lower.integrity lte (clothingData('under_lower',$worn.under_lower,'integrity_max') / 10) * 9>>
			<<set _imgName to "frayed">>
		<<else>>
			<<set _imgName to "full">>
		<</if>>
		<<if $worn.under_lower.mainImage isnot 0 and $worn.under_lower.high_img is 1>>
			<div @class="'clothes-div layer-under_lower-high' + _underlowerWetness">
				<img @class="_class" @src="'img/clothes/under_lower/' + $worn.under_lower.variable + '/' + _imgName + '.png'" @style="_style">
			</div>
		<</if>>
		<div @class="'clothes-div layer-under_lower' + _underlowerWetness">
			<<if $worn.under_lower.mainImage isnot 0 and $worn.under_lower.high_img isnot 1>>
				<img @class="_class" @src="'img/clothes/under_lower/' + $worn.under_lower.variable + '/' + _imgName + '.png'" @style="_style">
			<</if>>
			<<if $worn.under_lower.accessory is 1>>
				<img @class="_classAcc" @src="'img/clothes/under_lower/' + $worn.under_lower.variable + '/' + 'acc.png'" @style="_styleAcc">
			<</if>>
		</div>
		<<if $worn.under_lower.penis_img is 1 and $player.penisExist>>
			<div @class="'clothes-div layer-under_lower-top' + _underlowerWetness">
				<img @class="_class" @src="'img/clothes/under_lower/' + $worn.under_lower.variable + '/' + 'penis.png'" @style="_style">
				<<if $worn.under_lower.accessory is 1>>
					<img @class="_classAcc" @src="'img/clothes/under_lower/' + $worn.under_lower.variable + '/' + 'acc_penis.png'" @style="_styleAcc">
				<</if>>
			</div>
		<</if>>
	<</if>>
<</widget>>

<<widget "lowerimg">>
	<<if $worn.lower.name isnot "naked">>
		<<baseClothingStrings "lower">>
		<<switch $lowerwetstage>>
			<<case 1>><<set _lowerWetness to " clothes-damp">>
			<<case 2>><<set _lowerWetness to " clothes-wet">>
			<<case 3>><<set _lowerWetness to " clothes-drenshed">>
			<<default>><<set _lowerWetness to "">>
		<</switch>>

		<<if $worn.lower.integrity lte (clothingData('lower',$worn.lower,'integrity_max') / 10) * 2>>
			<<set _imgName to "tattered">>
		<<elseif $worn.lower.integrity lte (clothingData('lower',$worn.lower,'integrity_max') / 10) * 5>>
			<<set _imgName to "torn">>
		<<elseif $worn.lower.integrity lte (clothingData('lower',$worn.lower,'integrity_max') / 10) * 9>>
			<<set _imgName to "frayed">>
		<<else>>
			<<set _imgName to "full">>
		<</if>>

		<<if $worn.lower.mainImage isnot 0 and $worn.lower.high_img is 1>>
			<div @class="'clothes-div layer-lower-high' + _lowerWetness">
				<img @class="_class" @src="'img/clothes/lower/' + $worn.lower.variable + '/' + _imgName + '.png'" @style="_style">
			</div>
		<</if>>
		<div @class="'clothes-div layer-lower' + _lowerWetness">
			<<if $worn.lower.mainImage isnot 0 and $worn.lower.high_img isnot 1>>
				<img @class="_class" @src="'img/clothes/lower/' + $worn.lower.variable + '/' + _imgName + '.png'" @style="_style">
			<</if>>
			<<if $worn.lower.accessory is 1>>
				<img @class="_classAcc" @src="'img/clothes/lower/' + $worn.lower.variable + '/' + 'acc' + ($worn.lower.accessory_integrity_img ? '_' + _imgName : '') + '.png'" @style="_styleAcc">
			<</if>>
		</div>
		<<if $worn.lower.back_img is 1>>
			<div @class="'clothes-div layer-back-lower' + _lowerWetness">
				<img @class="$worn.lower.back_img_colour is 'secondary' ? _classAcc : _class" @src="'img/clothes/lower/' + $worn.lower.variable + '/' + 'back.png'" @style="_style">
			</div>
		<</if>>
	<</if>>
<</widget>>

<<widget "overlowerimg">>
	<<if $worn.over_lower.name isnot "naked">>
		<<baseClothingStrings "over_lower">>
		<<if $worn.over_lower.integrity lte (clothingData('over_lower',$worn.over_lower,'integrity_max') / 10) * 2>>
			<<set _imgName to "tattered">>
		<<elseif $worn.over_lower.integrity lte (clothingData('over_lower',$worn.over_lower,'integrity_max') / 10) * 5>>
			<<set _imgName to "torn">>
		<<elseif $worn.over_lower.integrity lte (clothingData('over_lower',$worn.over_lower,'integrity_max') / 10) * 9>>
			<<set _imgName to "frayed">>
		<<else>>
			<<set _imgName to "full">>
		<</if>>
		<div class="layer-over_lower">
			<<if $worn.over_lower.mainImage isnot 0>>
				<img @class="_class" @src="'img/clothes/over_lower/' + $worn.over_lower.variable + '/' + _imgName + '.png'" @style="_style">
			<</if>>
			<<if $worn.over_lower.accessory is 1>>
				<img @class="_classAcc" @src="'img/clothes/over_lower/' + $worn.over_lower.variable + '/' + 'acc.png'" @style="_styleAcc">
			<</if>>
		</div>
		<<if $worn.over_lower.back_img is 1>>
			<div class="layer-back-lower">
				<img @class="$worn.over_lower.back_img_colour is 'secondary' ? _classAcc : _class" @src="'img/clothes/over_lower/' + $worn.over_lower.variable + '/' + 'back.png'" @style="_style">
			</div>
		<</if>>
	<</if>>
<</widget>>

<<widget "genitalsimg">>
	<<if $worn.genitals.name isnot "naked">>
		<<set _genitalsColour = ($worn.genitals.colour ? " clothes-"+$worn.genitals.colour.replace(/ /g, '-') : "")>>
		<div class="layer-genitals">
			<<if $worn.genitals.mainImage isnot 0 and !setup.clothes.genitals[clothesIndex('genitals',$worn.genitals)].hideUnderLower.includes($worn.under_lower.name)>>
				<<if $worn.genitals.name is "chastity cage" and $parasite.penis.name is "urchin">>
					<<if $worn.genitals.integrity lte (clothingData('genitals',$worn.genitals,'integrity_max') / 10) * 2>>
						<img @class="'anim-idle-2f' + _genitalsColour" @src="'img/clothes/genitals/' + $worn.genitals.variable + '/' + 'tattered_urchin.png'" @style="$worn.genitals.colourCustom">
					<<elseif $worn.genitals.integrity lte (clothingData('genitals',$worn.genitals,'integrity_max') / 10) * 5>>
						<img @class="'anim-idle-2f' + _genitalsColour" @src="'img/clothes/genitals/' + $worn.genitals.variable + '/' + 'torn_urchin.png'" @style="$worn.genitals.colourCustom">
					<<elseif $worn.genitals.integrity lte (clothingData('genitals',$worn.genitals,'integrity_max') / 10) * 9>>
						<img @class="'anim-idle-2f' + _genitalsColour" @src="'img/clothes/genitals/' + $worn.genitals.variable + '/' + 'frayed_urchin.png'" @style="$worn.genitals.colourCustom">
					<<else>>
						<img @class="'anim-idle-2f' + _genitalsColour" @src="'img/clothes/genitals/' + $worn.genitals.variable + '/' + 'full_urchin.png'" @style="$worn.genitals.colourCustom">
					<</if>>
				<<elseif $worn.genitals.name is "chastity cage" and $parasite.penis.name is "slime">>
					<<if $worn.genitals.integrity lte (clothingData('genitals',$worn.genitals,'integrity_max') / 10) * 2>>
						<img @class="'anim-idle-2f' + _genitalsColour" @src="'img/clothes/genitals/' + $worn.genitals.variable + '/' + 'tattered_slime.png'" @style="$worn.genitals.colourCustom">
					<<elseif $worn.genitals.integrity lte (clothingData('genitals',$worn.genitals,'integrity_max') / 10) * 5>>
						<img @class="'anim-idle-2f' + _genitalsColour" @src="'img/clothes/genitals/' + $worn.genitals.variable + '/' + 'torn_slime.png'" @style="$worn.genitals.colourCustom">
					<<elseif $worn.genitals.integrity lte (clothingData('genitals',$worn.genitals,'integrity_max') / 10) * 9>>
						<img @class="'anim-idle-2f' + _genitalsColour" @src="'img/clothes/genitals/' + $worn.genitals.variable + '/' + 'frayed_slime.png'" @style="$worn.genitals.colourCustom">
					<<else>>
						<img @class="'anim-idle-2f' + _genitalsColour" @src="'img/clothes/genitals/' + $worn.genitals.variable + '/' + 'full_slime.png'" @style="$worn.genitals.colourCustom">
					<</if>>
				<<else>>
					<<if $worn.genitals.integrity lte (clothingData('genitals',$worn.genitals,'integrity_max') / 10) * 2>>
						<img @class="'anim-idle-2f' + _genitalsColour" @src="'img/clothes/genitals/' + $worn.genitals.variable + '/' + 'tattered.png'" @style="$worn.genitals.colourCustom">
					<<elseif $worn.genitals.integrity lte (clothingData('genitals',$worn.genitals,'integrity_max') / 10) * 5>>
						<img @class="'anim-idle-2f' + _genitalsColour" @src="'img/clothes/genitals/' + $worn.genitals.variable + '/' + 'torn.png'" @style="$worn.genitals.colourCustom">
					<<elseif $worn.genitals.integrity lte (clothingData('genitals',$worn.genitals,'integrity_max') / 10) * 9>>
						<img @class="'anim-idle-2f' + _genitalsColour" @src="'img/clothes/genitals/' + $worn.genitals.variable + '/' + 'frayed.png'" @style="$worn.genitals.colourCustom">
					<<else>>
						<img @class="'anim-idle-2f' + _genitalsColour" @src="'img/clothes/genitals/' + $worn.genitals.variable + '/' + 'full.png'" @style="$worn.genitals.colourCustom">
					<</if>>
				<</if>>
			<</if>>
		</div>
	<</if>>
<</widget>>

<<widget "upperimg">>
	<<if $worn.upper.name isnot "naked">>
		<<baseClothingStrings "upper">>
		<<switch $upperwetstage>>
			<<case 1>><<set _upperWetness to " clothes-damp">>
			<<case 2>><<set _upperWetness to " clothes-wet">>
			<<case 3>><<set _upperWetness to " clothes-drenshed">>
			<<default>><<set _upperWetness to "">>
		<</switch>>
		<<set _tucked = $upperTucked and !setup.clothes.upper[clothesIndex('upper', $worn.upper)].notuck and $worn.upper.outfitPrimary is undefined ? " tucked" : "">>
		<<set $_hoodDown to $worn.upper.hoodposition is "down" ? "_down" : "">>
		<<set $_altPosition to $worn.upper.altposition is "alt" ? "_alt" : "">>
		<div @class="'clothes-div layer-upper' + _tucked + _upperWetness">
			<<if $worn.upper.mainImage isnot 0>>
				<<if $worn.upper.integrity lte (clothingData('upper',$worn.upper,'integrity_max') / 10) * 2>>
					<<set _imgName to "tattered">>
				<<elseif $worn.upper.integrity lte (clothingData('upper',$worn.upper,'integrity_max') / 10) * 5>>
					<<set _imgName to "torn">>
				<<elseif $worn.upper.integrity lte (clothingData('upper',$worn.upper,'integrity_max') / 10) * 9>>
					<<set _imgName to "frayed">>
				<<else>>
					<<set _imgName to "full">>
				<</if>>
				<img @class="_class" @src="'img/clothes/upper/' + $worn.upper.variable + '/' + _imgName + $_hoodDown + $_altPosition + '.png'" @style="_style">
			<</if>>
			<<if setup.clothes.upper[clothesIndex('upper', $worn.upper)].breast_img is 1>>
				<img @class="_class" @src="'img/clothes/upper/' + $worn.upper.variable + '/' + (Math.min(_breastSize, 5)) + $_altPosition + '.png'" @style="_style">
			<</if>>
			<<if $worn.upper.accessory is 1>>
				<img @class="_classAcc" @src="'img/clothes/upper/' + $worn.upper.variable + '/' + 'acc' + ($worn.upper.accessory_integrity_img ? '_' + _imgName : '') + $_hoodDown + $_altPosition + '.png'" @style="_styleAcc">
			<</if>>
			<<if $worn.upper.breast_acc_img is 1>>
				<img @class="_classAcc" @src="'img/clothes/upper/' + $worn.upper.variable + '/' + (Math.min(_breastSize, 5)) + '_acc.png'" @style="_styleAcc">
			<</if>>
		</div>
		<<set _sleeveClass to {
			"": _class,
			"primary": _class,
			"no": "",
			"secondary": _classAcc
		}[$worn.upper.sleeve_colour||""]>>
		<<set _altPosition to setup.clothes.upper[clothesIndex('upper', $worn.upper)].altposition is 'alt' ? '_alt' : '' >>
		<<set _sleeveState to setup.clothes.upper[clothesIndex('upper', $worn.upper)].altsleeve is 'alt' ? '_rolled.png' : '.png'>>
		<<if _coverRight isnot undefined and setup.clothes.upper[clothesIndex('upper', $worn.upper)].sleeve_img is 1>>
			<div @class="'clothes-div layer-rightarmclothes' + _upperWetness">
				<<if _coverRight is true>>
					<img @class="_sleeveClass" @src="'img/clothes/upper/' + $worn.upper.variable + '/' + 'right_cover' + _altPosition + _sleeveState" @style="_style">
				<<else>>
					<img @class="_sleeveClass" @src="'img/clothes/upper/' + $worn.upper.variable + '/' + 'right' + _altPosition + _sleeveState" @style="_style">
				<</if>>
			</div>
		<</if>>
		<<if _coverLeft isnot undefined and setup.clothes.upper[clothesIndex('upper', $worn.upper)].sleeve_img is 1>>
			<div @class="'clothes-div layer-leftarmclothes' + _upperWetness">
				<<if _coverLeft is true>>
					<img @class="_sleeveClass" @src="'img/clothes/upper/' + $worn.upper.variable + '/' + 'left_cover' + _altPosition + _sleeveState" @style="_style">
				<<else>>
					<img @class="_sleeveClass" @src="'img/clothes/upper/' + $worn.upper.variable + '/' + 'left' + _altPosition + _sleeveState" @style="_style">
				<</if>>
			</div>
		<</if>>
	<</if>>
<</widget>>

<<widget "overupperimg">>
	<<if $worn.over_upper.name isnot "naked">>
		<<baseClothingStrings "over_upper">>
		<<if $worn.over_upper.integrity lte (clothingData('over_upper',$worn.over_upper,'integrity_max') / 10) * 2>>
			<<set _imgName to "tattered">>
		<<elseif $worn.over_upper.integrity lte (clothingData('over_upper',$worn.over_upper,'integrity_max') / 10) * 5>>
			<<set _imgName to "torn">>
		<<elseif $worn.over_upper.integrity lte (clothingData('over_upper',$worn.over_upper,'integrity_max') / 10) * 9>>
			<<set _imgName to "frayed">>
		<<else>>
			<<set _imgName to "full">>
		<</if>>
		<div class="layer-over_upper">
			<<if $worn.over_upper.mainImage isnot 0>>
				<img @class="_class" @src="'img/clothes/over_upper/' + $worn.over_upper.variable + '/' + _imgName + '.png'" @style="_style">
			<</if>>
			<<if setup.clothes.over_upper[clothesIndex('over_upper', $worn.over_upper)].breast_img is 1>>
				<img @class="_class" @src="'img/clothes/over_upper/' + $worn.over_upper.variable + '/' + (Math.min(_breastSize, 5)) + '.png'" @style="_style">
			<</if>>
			<<if $worn.over_upper.accessory is 1>>
				<img @class="_classAcc" @src="'img/clothes/over_upper/' + $worn.over_upper.variable + '/' + 'acc.png'" @style="_styleAcc">
			<</if>>
		</div>
		<<set _sleeveClass to {
			"": _class,
			"primary": _class,
			"no": "",
			"secondary": _classAcc
		}[$worn.over_upper.sleeve_colour||""]>>
		<<if _coverRight isnot undefined and setup.clothes.over_upper[clothesIndex('over_upper', $worn.over_upper)].sleeve_img is 1>>
			<div class="layer-rightarmoverclothes">
				<<if _coverRight is true>>
					<img @class="_sleeveClass" @src="'img/clothes/over_upper/' + $worn.over_upper.variable + '/' + 'right_cover.png'" @style="_style">
				<<else>>
					<img @class="_sleeveClass" @src="'img/clothes/over_upper/' + $worn.over_upper.variable + '/' + 'right.png'" @style="_style">
				<</if>>
			</div>
		<</if>>
		<<if _coverLeft isnot undefined and setup.clothes.over_upper[clothesIndex('over_upper', $worn.over_upper)].sleeve_img is 1>>
			<div class="layer-leftarmoverclothes">
				<<if _coverLeft is true>>
					<img @class="_sleeveClass" @src="'img/clothes/over_upper/' + $worn.over_upper.variable + '/' + 'left_cover.png'" @style="_style">
				<<else>>
					<img @class="_sleeveClass" @src="'img/clothes/over_upper/' + $worn.over_upper.variable + '/' + 'left.png'" @style="_style">
				<</if>>
			</div>
		<</if>>
	<</if>>
<</widget>>

<<widget "imgOpacity">>
	<<if _underUpperOpacity is undefined>>
		<<set _opacity to 1>>
		<<if !$worn.under_upper.type.includes("swim")>>
			<<if $underupperwetstage gte 3>>
				<<set _opacity = Math.clamp(_opacity - 0.5, 0, 1)>>
			<<elseif $underupperwetstage gte 2>>
				<<set _opacity = Math.clamp(_opacity - 0.25, 0, 1)>>
			<</if>>
		<</if>>
		<<set _underUpperOpacity to " opacity("+_opacity+")">>
	<</if>>

	<<if _underLowerOpacity is undefined>>
		<<set _opacity to 1>>
		<<if !$worn.under_lower.type.includes("swim")>>
			<<if $underlowerwetstage gte 3>>
				<<set _opacity = Math.clamp(_opacity - 0.5, 0, 1)>>
			<<elseif $underlowerwetstage gte 2>>
				<<set _opacity = Math.clamp(_opacity - 0.25, 0, 1)>>
			<</if>>
		<</if>>
		<<set _underLowerOpacity to " opacity("+_opacity+")">>
	<</if>>

	<<if _lowerOpacity is undefined>>
		<<set _opacity to 1>>
		<<if !$worn.lower.type.includes("swim")>>
			<<if $lowerwetstage gte 3>>
				<<set _opacity = Math.clamp(_opacity - 0.5, 0, 1)>>
			<<elseif $lowerwetstage gte 2>>
				<<set _opacity = Math.clamp(_opacity - 0.25, 0, 1)>>
			<</if>>
		<</if>>
		<<set _lowerOpacity to " opacity("+_opacity+")">>
	<</if>>

	<<if _upperOpacity is undefined>>
		<<set _opacity to 1>>
		<<if !$worn.upper.type.includes("swim")>>
			<<if $upperwetstage gte 3>>
				<<set _opacity = Math.clamp(_opacity - 0.5, 0, 1)>>
			<<elseif $upperwetstage gte 2>>
				<<set _opacity = Math.clamp(_opacity - 0.25, 0, 1)>>
			<</if>>
		<</if>>
		<<set _upperOpacity to " opacity("+_opacity+")">>
	<</if>>
<</widget>>

<<widget "player-base-body">>
	<div id="img">
		<<canvas-player-base-body>>
	</div>
<</widget>>
